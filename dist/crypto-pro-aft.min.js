!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("cryptoPro",[],t):"object"==typeof exports?exports.cryptoPro=t():e.cryptoPro=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var _=t[n]={i:n,l:!1,exports:{}};return e[n].call(_.exports,_,_.exports,r),_.l=!0,_.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var _ in e)r.d(n,_,function(t){return e[t]}.bind(null,_));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=17)}([function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(_,a){function o(e){try{i(n.next(e))}catch(e){a(e)}}function s(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?_(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}i((n=n.apply(e,t||[])).next())}))},_=this&&this.__generator||function(e,t){var r,n,_,a,o={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(_=2&a[0]?n.return:a[0]?n.throw||((_=n.return)&&_.call(n),0):n.next)&&!(_=_.call(n,a[1])).done)return _;switch(n=0,_&&(a=[2&a[0],_.value]),a[0]){case 0:case 1:_=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(_=o.trys,(_=_.length>0&&_[_.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!_||a[1]>_[0]&&a[1]<_[3])){o.label=a[1];break}if(6===a[0]&&o.label<_[1]){o.label=_[1],_=a;break}if(_&&o.label<_[2]){o.label=_[2],o.ops.push(a);break}_[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=_=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t._afterPluginsLoaded=void 0;var a=r(1),o=!1,s=!1;t._afterPluginsLoaded=function(e){var t=Boolean(window.Promise);return function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return n(this,void 0,void 0,(function(){var n,c;return _(this,(function(_){switch(_.label){case 0:if(!s){try{r(20)}catch(e){throw console.error(e),new Error(a._extractMeaningfulErrorMessage(e)||"Ошибка при подключении модуля для работы с Cades plugin")}s=!0}if(n=window.cadesplugin,!t)throw new Error("Необходим полифилл для Promise");if(!n)throw new Error("Не подключен модуль для работы с Cades plugin");o||(n.set_log_level(n.LOG_LEVEL_ERROR),o=!0),_.label=1;case 1:return _.trys.push([1,3,,4]),[4,n];case 2:return _.sent(),[3,4];case 3:throw c=_.sent(),console.error(c),new Error(a._extractMeaningfulErrorMessage(c)||"Ошибка при инициализации модуля для работы с Cades plugin");case 4:return[4,e.apply(this,i)];case 5:return[2,_.sent()]}}))}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._extractMeaningfulErrorMessage=void 0,t._extractMeaningfulErrorMessage=function(e){var t,r=(null===(t=window.cadesplugin)||void 0===t?void 0:t.getLastError)&&window.cadesplugin.getLastError(e);if(!(null==r?void 0:r.message)){if(!e.message)return null;r=e}if(!/[а-яА-Я]/.test(r.message))return null;var n=r.message.match(/^(.*?)(?:(?:\.?\s?\(?(0x[0-9a-zA-Z]{1,8})\)?)|(?:\.?$))/);return n?n[1]+(n[2]?" (Код ошибки: "+n[2]+")":""):null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._generateCadesFn=t.__createCadesPluginObject__=t.__cadesAsyncToken__=void 0,t.__cadesAsyncToken__={},t.__createCadesPluginObject__=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{}},t._generateCadesFn=function(e){var t,r=window.cadesplugin,n=Boolean(r.CreateObjectAsync),_=e.name||"dynamicFn",a=String(e),o=(null===(t=a.match(/^function[\s\w]*?\((.*?)\)/))||void 0===t?void 0:t[1])||"",s=a.replace(/^.*?{([\s\S]*?)}$/,"$1"),i=String(new(n?new Function("","return Object.getPrototypeOf(function*(){}).constructor")():Function)(o,s));return i=(i=i.replace(/\w+?\.__createCadesPluginObject__(\([\s\S]*?\))/gm,"cadesplugin.CreateObject"+(n?"Async":"")+"$1")).replace(/\w+?\.__cadesAsyncToken__\s*?\+\s*?\b/gm,n?"yield ":""),n||(i=i.replace(/propset_(.*?)\((.*?)\)/gm,"$1 = $2")),[n?"cadesplugin.async_spawn("+i+");":"("+i+")();","//# sourceURL=crypto-pro_"+_+".js"].join("")}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),_=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),_(r(22),t),_(r(23),t),_(r(24),t),_(r(25),t)},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),_=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),_(r(21),t)},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(_,a){function o(e){try{i(n.next(e))}catch(e){a(e)}}function s(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?_(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}i((n=n.apply(e,t||[])).next())}))},_=this&&this.__generator||function(e,t){var r,n,_,a,o={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(_=2&a[0]?n.return:a[0]?n.throw||((_=n.return)&&_.call(n),0):n.next)&&!(_=_.call(n,a[1])).done)return _;switch(n=0,_&&(a=[2&a[0],_.value]),a[0]){case 0:case 1:_=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(_=o.trys,(_=_.length>0&&_[_.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!_||a[1]>_[0]&&a[1]<_[3])){o.label=a[1];break}if(6===a[0]&&o.label<_[1]){o.label=_[1],_=a;break}if(_&&o.label<_[2]){o.label=_[2],o.ops.push(a);break}_[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=_=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t._getCadesCert=void 0;var a=r(0),o=r(38),s=r(39);t._getCadesCert=a._afterPluginsLoaded((function(e){return n(void 0,void 0,void 0,(function(){var t,r;return _(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,o._getCadesUserCert(e)];case 1:return t=n.sent(),[3,4];case 2:return r=n.sent(),console.log(r),[4,s._getCadesContainerCert(e)];case 3:return t=n.sent(),[3,4];case 4:return[2,t]}}))}))}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._extractCommonName=void 0,t._extractCommonName=function(e){var t,r;return null===(r=null===(t=e.match(/CN="?(.+?)"?(?:,|$)/))||void 0===t?void 0:t[1])||void 0===r?void 0:r.replace(/"{2}/g,'"')}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getDateObj=void 0,t._getDateObj=function(e){return e.getVarDate?e.getVarDate():e}},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(44),_=r(45),a=r(46);function o(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=i.prototype:(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,r){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return C(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);i.TYPED_ARRAY_SUPPORT?(e=t).__proto__=i.prototype:e=l(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!i.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),_=(e=s(e,n)).write(t,r);_!==n&&(e=e.slice(0,_));return e}(e,t,r):function(e,t){if(i.isBuffer(t)){var r=0|E(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):l(e,t);if("Buffer"===t.type&&a(t.data))return l(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function C(e,t){if(u(t),e=s(e,t<0?0:0|E(t)),!i.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function l(e,t){var r=t.length<0?0:0|E(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function E(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function d(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(e).length;default:if(n)return G(e).length;t=(""+t).toLowerCase(),n=!0}}function f(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return w(this,t,r);case"utf8":case"utf-8":return P(this,t,r);case"ascii":return N(this,t,r);case"latin1":case"binary":return y(this,t,r);case"base64":return R(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function A(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function T(e,t,r,n,_){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=_?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(_)return-1;r=e.length-1}else if(r<0){if(!_)return-1;r=0}if("string"==typeof t&&(t=i.from(t,n)),i.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,_);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?_?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,_);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,_){var a,o=1,s=e.length,i=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,i/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(_){var u=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===i)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(r+i>s&&(r=s-i),a=r;a>=0;a--){for(var C=!0,l=0;l<i;l++)if(c(e,a+l)!==c(t,l)){C=!1;break}if(C)return a}return-1}function O(e,t,r,n){r=Number(r)||0;var _=e.length-r;n?(n=Number(n))>_&&(n=_):n=_;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function p(e,t,r,n){return B(G(t,e.length-r),e,r,n)}function I(e,t,r,n){return B(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function h(e,t,r,n){return I(e,t,r,n)}function M(e,t,r,n){return B(Y(t),e,r,n)}function S(e,t,r,n){return B(function(e,t){for(var r,n,_,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,_=r%256,a.push(_),a.push(n);return a}(t,e.length-r),e,r,n)}function R(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function P(e,t,r){r=Math.min(e.length,r);for(var n=[],_=t;_<r;){var a,o,s,i,c=e[_],u=null,C=c>239?4:c>223?3:c>191?2:1;if(_+C<=r)switch(C){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[_+1]))&&(i=(31&c)<<6|63&a)>127&&(u=i);break;case 3:a=e[_+1],o=e[_+2],128==(192&a)&&128==(192&o)&&(i=(15&c)<<12|(63&a)<<6|63&o)>2047&&(i<55296||i>57343)&&(u=i);break;case 4:a=e[_+1],o=e[_+2],s=e[_+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(i=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&i<1114112&&(u=i)}null===u?(u=65533,C=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),_+=C}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=i,t.SlowBuffer=function(e){+e!=e&&(e=0);return i.alloc(+e)},t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,r){return c(null,e,t,r)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},i.allocUnsafe=function(e){return C(null,e)},i.allocUnsafeSlow=function(e){return C(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,_=0,a=Math.min(r,n);_<a;++_)if(e[_]!==t[_]){r=e[_],n=t[_];break}return r<n?-1:n<r?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=i.allocUnsafe(t),_=0;for(r=0;r<e.length;++r){var o=e[r];if(!i.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,_),_+=o.length}return n},i.byteLength=d,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)A(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)A(this,t,t+3),A(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)A(this,t,t+7),A(this,t+1,t+6),A(this,t+2,t+5),A(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):f.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,r,n,_){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===_&&(_=this.length),t<0||r>e.length||n<0||_>this.length)throw new RangeError("out of range index");if(n>=_&&t>=r)return 0;if(n>=_)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(_>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(n,_),u=e.slice(t,r),C=0;C<s;++C)if(c[C]!==u[C]){a=c[C],o=u[C];break}return a<o?-1:o<a?1:0},i.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},i.prototype.indexOf=function(e,t,r){return T(this,e,t,r,!0)},i.prototype.lastIndexOf=function(e,t,r){return T(this,e,t,r,!1)},i.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var _=this.length-t;if((void 0===r||r>_)&&(r=_),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return O(this,e,t,r);case"utf8":case"utf-8":return p(this,e,t,r);case"ascii":return I(this,e,t,r);case"latin1":case"binary":return h(this,e,t,r);case"base64":return M(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(e,t,r){var n="";r=Math.min(e.length,r);for(var _=t;_<r;++_)n+=String.fromCharCode(127&e[_]);return n}function y(e,t,r){var n="";r=Math.min(e.length,r);for(var _=t;_<r;++_)n+=String.fromCharCode(e[_]);return n}function w(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var _="",a=t;a<r;++a)_+=H(e[a]);return _}function D(e,t,r){for(var n=e.slice(t,r),_="",a=0;a<n.length;a+=2)_+=String.fromCharCode(n[a]+256*n[a+1]);return _}function b(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function v(e,t,r,n,_,a){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>_||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function m(e,t,r,n){t<0&&(t=65535+t+1);for(var _=0,a=Math.min(e.length-r,2);_<a;++_)e[r+_]=(t&255<<8*(n?_:1-_))>>>8*(n?_:1-_)}function L(e,t,r,n){t<0&&(t=4294967295+t+1);for(var _=0,a=Math.min(e.length-r,4);_<a;++_)e[r+_]=t>>>8*(n?_:3-_)&255}function U(e,t,r,n,_,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(e,t,r,n,a){return a||U(e,0,r,4),_.write(e,t,r,n,23,4),r+4}function x(e,t,r,n,a){return a||U(e,0,r,8),_.write(e,t,r,n,52,8),r+8}i.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),i.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=i.prototype;else{var _=t-e;r=new i(_,void 0);for(var a=0;a<_;++a)r[a]=this[a+e]}return r},i.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||b(e,t,this.length);for(var n=this[e],_=1,a=0;++a<t&&(_*=256);)n+=this[e+a]*_;return n},i.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||b(e,t,this.length);for(var n=this[e+--t],_=1;t>0&&(_*=256);)n+=this[e+--t]*_;return n},i.prototype.readUInt8=function(e,t){return t||b(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||b(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||b(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||b(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||b(e,t,this.length);for(var n=this[e],_=1,a=0;++a<t&&(_*=256);)n+=this[e+a]*_;return n>=(_*=128)&&(n-=Math.pow(2,8*t)),n},i.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||b(e,t,this.length);for(var n=t,_=1,a=this[e+--n];n>0&&(_*=256);)a+=this[e+--n]*_;return a>=(_*=128)&&(a-=Math.pow(2,8*t)),a},i.prototype.readInt8=function(e,t){return t||b(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||b(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(e,t){t||b(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(e,t){return t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||b(e,4,this.length),_.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||b(e,4,this.length),_.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||b(e,8,this.length),_.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||b(e,8,this.length),_.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||v(this,e,t,r,Math.pow(2,8*r)-1,0);var _=1,a=0;for(this[t]=255&e;++a<r&&(_*=256);)this[t+a]=e/_&255;return t+r},i.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||v(this,e,t,r,Math.pow(2,8*r)-1,0);var _=r-1,a=1;for(this[t+_]=255&e;--_>=0&&(a*=256);)this[t+_]=e/a&255;return t+r},i.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||v(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||v(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):m(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||v(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):m(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||v(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||v(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var _=Math.pow(2,8*r-1);v(this,e,t,r,_-1,-_)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},i.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var _=Math.pow(2,8*r-1);v(this,e,t,r,_-1,-_)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},i.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||v(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||v(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):m(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||v(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):m(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||v(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||v(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,r){return F(this,e,t,!0,r)},i.prototype.writeFloatBE=function(e,t,r){return F(this,e,t,!1,r)},i.prototype.writeDoubleLE=function(e,t,r){return x(this,e,t,!0,r)},i.prototype.writeDoubleBE=function(e,t,r){return x(this,e,t,!1,r)},i.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var _,a=n-r;if(this===e&&r<t&&t<n)for(_=a-1;_>=0;--_)e[_+t]=this[_+r];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(_=0;_<a;++_)e[_+t]=this[_+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},i.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var _=e.charCodeAt(0);_<256&&(e=_)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=i.isBuffer(e)?e:G(new i(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var k=/[^+\/0-9A-Za-z-_]/g;function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function G(e,t){var r;t=t||1/0;for(var n=e.length,_=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!_){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}_=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),_=r;continue}r=65536+(_-55296<<10|r-56320)}else _&&(t-=3)>-1&&a.push(239,191,189);if(_=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function Y(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(k,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,r,n){for(var _=0;_<n&&!(_+r>=t.length||_>=e.length);++_)t[_+r]=e[_];return _}}).call(this,r(43))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(_,a){function o(e){try{i(n.next(e))}catch(e){a(e)}}function s(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?_(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}i((n=n.apply(e,t||[])).next())}))},_=this&&this.__generator||function(e,t){var r,n,_,a,o={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(_=2&a[0]?n.return:a[0]?n.throw||((_=n.return)&&_.call(n),0):n.next)&&!(_=_.call(n,a[1])).done)return _;switch(n=0,_&&(a=[2&a[0],_.value]),a[0]){case 0:case 1:_=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(_=o.trys,(_=_.length>0&&_[_.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!_||a[1]>_[0]&&a[1]<_[3])){o.label=a[1];break}if(6===a[0]&&o.label<_[1]){o.label=_[1],_=a;break}if(_&&o.label<_[2]){o.label=_[2],o.ops.push(a);break}_[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=_=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getCertificates=void 0;var a,o=r(0),s=r(10),i=r(12);t.getCertificates=o._afterPluginsLoaded((function(e){return void 0===e&&(e=!1),n(void 0,void 0,void 0,(function(){var t,r,n,o,c;return _(this,(function(_){switch(_.label){case 0:if(!e&&a)return[2,a];_.label=1;case 1:return _.trys.push([1,3,,4]),[4,s.getUserCertificates(e)];case 2:return t=_.sent(),[3,4];case 3:return r=_.sent(),console.error(r),t=[],[3,4];case 4:return _.trys.push([4,6,,7]),[4,i.getContainerCertificates(e)];case 5:if(n=_.sent(),t)for(o=n.length-1,void 0;o;)t.find((function(e){return e.thumbprint===n[o].thumbprint}))||t.push(n[o]),o--;else t=n;return[3,7];case 6:return c=_.sent(),console.error(c),[3,7];case 7:if(!t)throw new Error("Нет доступных сертификатов");return[2,a=t]}}))}))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getUserCertificates=void 0;var certificate_1=__webpack_require__(4),constants_1=__webpack_require__(3),_afterPluginsLoaded_1=__webpack_require__(0),_extractCommonName_1=__webpack_require__(6),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),certificatesCache;exports.getUserCertificates=_afterPluginsLoaded_1._afterPluginsLoaded((function(resetCache){void 0===resetCache&&(resetCache=!1);var cadesplugin=window.cadesplugin;return!resetCache&&certificatesCache?certificatesCache:eval(_generateCadesFn_1._generateCadesFn((function(){var e,t,r;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.Store")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при попытке доступа к хранилищу")}try{_generateCadesFn_1.__cadesAsyncToken__,e.Open(cadesplugin.CAPICOM_CURRENT_USER_STORE,cadesplugin.CAPICOM_MY_STORE,cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при открытии хранилища")}try{(t=_generateCadesFn_1.__cadesAsyncToken__+e.Certificates)&&(t=_generateCadesFn_1.__cadesAsyncToken__+t.Find(cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_VALID),t=_generateCadesFn_1.__cadesAsyncToken__+t.Find(cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY,constants_1.CAPICOM_PROPID_KEY_PROV_INFO),r=_generateCadesFn_1.__cadesAsyncToken__+t.Count)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка получения списка сертификатов")}if(!r)throw new Error("Нет доступных сертификатов");var n=[];try{for(;r;){var _=_generateCadesFn_1.__cadesAsyncToken__+t.Item(r);n.push(new certificate_1.Certificate(_,_extractCommonName_1._extractCommonName(_generateCadesFn_1.__cadesAsyncToken__+_.SubjectName),_generateCadesFn_1.__cadesAsyncToken__+_.IssuerName,_generateCadesFn_1.__cadesAsyncToken__+_.SubjectName,_generateCadesFn_1.__cadesAsyncToken__+_.Thumbprint,_generateCadesFn_1.__cadesAsyncToken__+_.ValidFromDate,_generateCadesFn_1.__cadesAsyncToken__+_.ValidToDate)),r--}}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка обработки сертификатов")}return e.Close(),certificatesCache=n})))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCadesProp=void 0;var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports.getCadesProp=_afterPluginsLoaded_1._afterPluginsLoaded((function(propName){var cadesCertificate=this._cadesCertificate;return eval(_generateCadesFn_1._generateCadesFn((function(){var e;try{e=_generateCadesFn_1.__cadesAsyncToken__+cadesCertificate[propName]}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при обращении к свойству сертификата")}return e})))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getContainerCertificates=void 0;var certificate_1=__webpack_require__(4),constants_1=__webpack_require__(3),_afterPluginsLoaded_1=__webpack_require__(0),_extractCommonName_1=__webpack_require__(6),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),certificatesCache;exports.getContainerCertificates=_afterPluginsLoaded_1._afterPluginsLoaded((function(resetCache){void 0===resetCache&&(resetCache=!1);var cadesplugin=window.cadesplugin;return!resetCache&&certificatesCache?certificatesCache:eval(_generateCadesFn_1._generateCadesFn((function(){var e,t,r;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.Store")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при попытке доступа к хранилищу")}try{_generateCadesFn_1.__cadesAsyncToken__,e.Open(cadesplugin.CADESCOM_CONTAINER_STORE,cadesplugin.CAPICOM_MY_STORE,cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при открытии хранилища")}try{(t=_generateCadesFn_1.__cadesAsyncToken__+e.Certificates)&&(t=_generateCadesFn_1.__cadesAsyncToken__+t.Find(cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_VALID),t=_generateCadesFn_1.__cadesAsyncToken__+t.Find(cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY,constants_1.CAPICOM_PROPID_KEY_PROV_INFO),r=_generateCadesFn_1.__cadesAsyncToken__+t.Count)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка получения списка сертификатов")}if(!r)throw new Error("Нет доступных сертификатов");var n=[];try{for(;r;){var _=_generateCadesFn_1.__cadesAsyncToken__+t.Item(r);n.push(new certificate_1.Certificate(_,_extractCommonName_1._extractCommonName(_generateCadesFn_1.__cadesAsyncToken__+_.SubjectName),_generateCadesFn_1.__cadesAsyncToken__+_.IssuerName,_generateCadesFn_1.__cadesAsyncToken__+_.SubjectName,_generateCadesFn_1.__cadesAsyncToken__+_.Thumbprint,_generateCadesFn_1.__cadesAsyncToken__+_.ValidFromDate,_generateCadesFn_1.__cadesAsyncToken__+_.ValidToDate)),r--}}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка обработки сертификатов")}return e.Close(),certificatesCache=n})))}))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(_,a){function o(e){try{i(n.next(e))}catch(e){a(e)}}function s(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?_(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}i((n=n.apply(e,t||[])).next())}))},_=this&&this.__generator||function(e,t){var r,n,_,a,o={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(_=2&a[0]?n.return:a[0]?n.throw||((_=n.return)&&_.call(n),0):n.next)&&!(_=_.call(n,a[1])).done)return _;switch(n=0,_&&(a=[2&a[0],_.value]),a[0]){case 0:case 1:_=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(_=o.trys,(_=_.length>0&&_[_.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!_||a[1]>_[0]&&a[1]<_[3])){o.label=a[1];break}if(6===a[0]&&o.label<_[1]){o.label=_[1],_=a;break}if(_&&o.label<_[2]){o.label=_[2],o.ops.push(a);break}_[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=_=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getAllCertificates=void 0;var a,o=r(0),s=r(14),i=r(15);t.getAllCertificates=o._afterPluginsLoaded((function(e){return void 0===e&&(e=!1),n(void 0,void 0,void 0,(function(){var t,r,n,o,c;return _(this,(function(_){switch(_.label){case 0:if(!e&&a)return[2,a];_.label=1;case 1:return _.trys.push([1,3,,4]),[4,s.getAllUserCertificates(e)];case 2:return t=_.sent(),[3,4];case 3:return r=_.sent(),console.error(r),t=[],[3,4];case 4:return _.trys.push([4,6,,7]),[4,i.getAllContainerCertificates(e)];case 5:if(n=_.sent(),t)for(o=n.length-1,void 0;o;)t.find((function(e){return e.thumbprint===n[o].thumbprint}))||t.push(n[o]),o--;else t=n;return[3,7];case 6:return c=_.sent(),console.error(c),[3,7];case 7:if(!t)throw new Error("Нет доступных сертификатов");return[2,a=t]}}))}))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAllUserCertificates=void 0;var certificate_1=__webpack_require__(4),_afterPluginsLoaded_1=__webpack_require__(0),_extractCommonName_1=__webpack_require__(6),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),certificatesCache;exports.getAllUserCertificates=_afterPluginsLoaded_1._afterPluginsLoaded((function(resetCache){void 0===resetCache&&(resetCache=!1);var cadesplugin=window.cadesplugin;return!resetCache&&certificatesCache?certificatesCache:eval(_generateCadesFn_1._generateCadesFn((function(){var e,t,r;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.Store")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при попытке доступа к хранилищу")}try{_generateCadesFn_1.__cadesAsyncToken__,e.Open(cadesplugin.CAPICOM_CURRENT_USER_STORE,cadesplugin.CAPICOM_MY_STORE,cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при открытии хранилища")}try{t=_generateCadesFn_1.__cadesAsyncToken__+e.Certificates,r=_generateCadesFn_1.__cadesAsyncToken__+t.Count}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка получения списка сертификатов")}if(!r)throw new Error("Нет доступных сертификатов");var n=[];try{for(;r;){var _=_generateCadesFn_1.__cadesAsyncToken__+t.Item(r);n.push(new certificate_1.Certificate(_,_extractCommonName_1._extractCommonName(_generateCadesFn_1.__cadesAsyncToken__+_.SubjectName),_generateCadesFn_1.__cadesAsyncToken__+_.IssuerName,_generateCadesFn_1.__cadesAsyncToken__+_.SubjectName,_generateCadesFn_1.__cadesAsyncToken__+_.Thumbprint,_generateCadesFn_1.__cadesAsyncToken__+_.ValidFromDate,_generateCadesFn_1.__cadesAsyncToken__+_.ValidToDate)),r--}}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка обработки сертификатов")}return e.Close(),certificatesCache=n})))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAllContainerCertificates=void 0;var certificate_1=__webpack_require__(4),_afterPluginsLoaded_1=__webpack_require__(0),_extractCommonName_1=__webpack_require__(6),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),certificatesCache;exports.getAllContainerCertificates=_afterPluginsLoaded_1._afterPluginsLoaded((function(resetCache){void 0===resetCache&&(resetCache=!1);var cadesplugin=window.cadesplugin;return!resetCache&&certificatesCache?certificatesCache:eval(_generateCadesFn_1._generateCadesFn((function(){var e,t,r;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.Store")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при попытке доступа к хранилищу")}try{_generateCadesFn_1.__cadesAsyncToken__,e.Open(cadesplugin.CADESCOM_CONTAINER_STORE,cadesplugin.CAPICOM_MY_STORE,cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при открытии хранилища")}try{t=_generateCadesFn_1.__cadesAsyncToken__+e.Certificates,r=_generateCadesFn_1.__cadesAsyncToken__+t.Count}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка получения списка сертификатов")}if(!r)throw new Error("Нет доступных сертификатов");var n=[];try{for(;r;){var _=_generateCadesFn_1.__cadesAsyncToken__+t.Item(r);n.push(new certificate_1.Certificate(_,_extractCommonName_1._extractCommonName(_generateCadesFn_1.__cadesAsyncToken__+_.SubjectName),_generateCadesFn_1.__cadesAsyncToken__+_.IssuerName,_generateCadesFn_1.__cadesAsyncToken__+_.SubjectName,_generateCadesFn_1.__cadesAsyncToken__+_.Thumbprint,_generateCadesFn_1.__cadesAsyncToken__+_.ValidFromDate,_generateCadesFn_1.__cadesAsyncToken__+_.ValidToDate)),r--}}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка обработки сертификатов")}return e.Close(),certificatesCache=n})))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSystemInfo=void 0;var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports.getSystemInfo=_afterPluginsLoaded_1._afterPluginsLoaded((function(){var sysInfo={cadesVersion:null,cspVersion:null};return eval(_generateCadesFn_1._generateCadesFn((function(){var e;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.About"),sysInfo.cadesVersion=_generateCadesFn_1.__cadesAsyncToken__+e.PluginVersion,sysInfo.cspVersion=_generateCadesFn_1.__cadesAsyncToken__+e.CSPVersion(),sysInfo.cadesVersion||(sysInfo.cadesVersion=_generateCadesFn_1.__cadesAsyncToken__+e.Version),sysInfo.cadesVersion=_generateCadesFn_1.__cadesAsyncToken__+sysInfo.cadesVersion.toString(),sysInfo.cspVersion=_generateCadesFn_1.__cadesAsyncToken__+sysInfo.cspVersion.toString()}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при получении информации о системе")}return sysInfo})))}))},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),_=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),_(r(18),t)},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),_=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),_(r(19),t),_(r(10),t),_(r(14),t),_(r(12),t),_(r(15),t),_(r(9),t),_(r(13),t),_(r(16),t),_(r(34),t),_(r(37),t),_(r(40),t),_(r(41),t),_(r(42),t),_(r(47),t),_(r(48),t),_(r(4),t),_(r(49),t),_(r(50),t)},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(_,a){function o(e){try{i(n.next(e))}catch(e){a(e)}}function s(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?_(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}i((n=n.apply(e,t||[])).next())}))},_=this&&this.__generator||function(e,t){var r,n,_,a,o={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(_=2&a[0]?n.return:a[0]?n.throw||((_=n.return)&&_.call(n),0):n.next)&&!(_=_.call(n,a[1])).done)return _;switch(n=0,_&&(a=[2&a[0],_.value]),a[0]){case 0:case 1:_=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(_=o.trys,(_=_.length>0&&_[_.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!_||a[1]>_[0]&&a[1]<_[3])){o.label=a[1];break}if(6===a[0]&&o.label<_[1]){o.label=_[1],_=a;break}if(_&&o.label<_[2]){o.label=_[2],o.ops.push(a);break}_[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=_=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getCertificate=void 0;var a=r(0),o=r(9),s=r(13);t.getCertificate=a._afterPluginsLoaded((function(e,t){return void 0===t&&(t=!0),n(void 0,void 0,void 0,(function(){var r,n;return _(this,(function(_){switch(_.label){case 0:if(!e)throw new Error("Отпечаток не указан");return t?[4,o.getCertificates()]:[3,2];case 1:return r=_.sent(),[3,4];case 2:return[4,s.getAllCertificates()];case 3:r=_.sent(),_.label=4;case 4:if(!(n=r.find((function(t){return t.thumbprint===e}))))throw new Error('Сертификат с отпечатком: "'+e+'" не найден');return[2,n]}}))}))}))},function(e,t){!function(){if(!window.cadesplugin){var e,t,r,n,_=0,a=0,o=0,s=0,i=0,c=!!window.Promise,u=!1,C=!1;n=c?new Promise((function(e,n){r=e,t=n})):{};var l,E,d,f=(E=navigator.userAgent,d=E.match(/(opera|yabrowser|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(d[1])?{name:"IE",version:(l=/\brv[ :]+(\d+)/g.exec(E)||[])[1]||""}:"Chrome"===d[1]&&null!=(l=E.match(/\b(OPR|Edg|YaBrowser)\/(\d+)/))?{name:l[1].replace("OPR","Opera"),version:l[2]}:(d=d[2]?[d[1],d[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(l=E.match(/version\/(\d+)/i))&&d.splice(1,1,l[1]),{name:d[0],version:d[1]})),A={callbacksCount:1,callbacks:{},resultForCallback:function(e,t){var r=A.callbacks[e];r&&r.apply(null,t)},call:function(e,t,r){var n=r&&"function"==typeof r,_=n?A.callbacksCount++:0;n&&(A.callbacks[_]=r);var a=document.createElement("IFRAME"),o=new Array("_CPNP_handle");try{a.setAttribute("src","cpnp-js-call:"+e+":"+_+":"+encodeURIComponent(JSON.stringify(t,o)))}catch(e){alert(e)}document.documentElement.appendChild(a),a.parentNode.removeChild(a),a=null}},T=function(e){!1===document.hidden&&(document.removeEventListener("visibilitychange",T),v(),b())};n.JSModuleVersion="2.3.8",n.async_spawn=function(e){function t(e,t){var a;try{a=r[e](t)}catch(e){return Promise.reject(e)}return a.done?a.value:Promise.resolve(a.value).then(n,_)}var r=e(Array.prototype.slice.call(arguments,1)),n=t.bind(t,"next"),_=t.bind(t,"throw");return n()},n.set=function(t){e=t},n.set_log_level=function(e){e===n.LOG_LEVEL_DEBUG||e===n.LOG_LEVEL_INFO||e===n.LOG_LEVEL_ERROR?(n.current_log_level=e,n.current_log_level===n.LOG_LEVEL_DEBUG&&g(n.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = DEBUG"),n.current_log_level===n.LOG_LEVEL_INFO&&g(n.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = INFO"),n.current_log_level===n.LOG_LEVEL_ERROR&&g(n.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = ERROR"),I()&&(n.current_log_level===n.LOG_LEVEL_DEBUG&&window.postMessage("set_log_level=debug","*"),n.current_log_level===n.LOG_LEVEL_INFO&&window.postMessage("set_log_level=info","*"),n.current_log_level===n.LOG_LEVEL_ERROR&&window.postMessage("set_log_level=error","*"))):g(n.LOG_LEVEL_ERROR,"cadesplugin_api.js: Incorrect log_level: "+e)},n.get_extension_version=function(e){window.postMessage("cadesplugin_extension_version_request","*"),window.addEventListener("message",(function(t){var r="cadesplugin_extension_version_response:";"string"==typeof t.data&&0===t.data.indexOf(r)&&(ext_version=t.data.substring(r.length),e(ext_version))}),!1)},n.get_extension_id=function(e){window.postMessage("cadesplugin_extension_id_request","*"),window.addEventListener("message",(function(t){var r="cadesplugin_extension_id_response:";"string"==typeof t.data&&0===t.data.indexOf(r)&&(ext_id=t.data.substring(r.length),e(ext_id))}),!1)},n.getLastError=function(t){if(I()||O()||p())return M(t);try{return e.getLastError()}catch(e){return M(t)}},n.is_capilite_enabled=function(){return!(void 0===n.EnableInternalCSP||!n.EnableInternalCSP)},I()&&(n.CreateObjectAsync=function(t){return e.CreateObjectAsync(t)},n.ReleasePluginObjects=function(){return cpcsp_chrome_nmcades.ReleasePluginObjects()}),I()||(n.CreateObject=h),n.CAPICOM_MEMORY_STORE=0,n.CAPICOM_LOCAL_MACHINE_STORE=1,n.CAPICOM_CURRENT_USER_STORE=2,n.CAPICOM_SMART_CARD_USER_STORE=4,n.CADESCOM_MEMORY_STORE=0,n.CADESCOM_LOCAL_MACHINE_STORE=1,n.CADESCOM_CURRENT_USER_STORE=2,n.CADESCOM_SMART_CARD_USER_STORE=4,n.CADESCOM_CONTAINER_STORE=100,n.CAPICOM_MY_STORE="My",n.CAPICOM_STORE_OPEN_READ_WRITE=1,n.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED=2,n.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,n.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED=0,n.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING=1,n.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE=2,n.CADESCOM_XADES_DEFAULT=16,n.CADESCOM_XADES_BES=32,n.CADESCOM_XADES_T=80,n.CADESCOM_XADES_X_LONG_TYPE_1=1488,n.CADESCOM_XMLDSIG_TYPE=0,n.XmlDsigGost3410UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr34102001-gostr3411",n.XmlDsigGost3411UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr3411",n.XmlDsigGost3410Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102001-gostr3411",n.XmlDsigGost3411Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr3411",n.XmlDsigGost3411Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256",n.XmlDsigGost3410Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256",n.XmlDsigGost3411Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-512",n.XmlDsigGost3410Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-512",n.CADESCOM_CADES_DEFAULT=0,n.CADESCOM_CADES_BES=1,n.CADESCOM_CADES_T=5,n.CADESCOM_CADES_X_LONG_TYPE_1=93,n.CADESCOM_CADES_A=221,n.CADESCOM_PKCS7_TYPE=65535,n.CADESCOM_ENCODE_BASE64=0,n.CADESCOM_ENCODE_BINARY=1,n.CADESCOM_ENCODE_ANY=-1,n.CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT=0,n.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN=1,n.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY=2,n.CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME=0,n.CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME=1,n.CAPICOM_CERTIFICATE_FIND_SHA1_HASH=0,n.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,n.CAPICOM_CERTIFICATE_FIND_ISSUER_NAME=2,n.CAPICOM_CERTIFICATE_FIND_ROOT_NAME=3,n.CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME=4,n.CAPICOM_CERTIFICATE_FIND_EXTENSION=5,n.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY=6,n.CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY=7,n.CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY=8,n.CAPICOM_CERTIFICATE_FIND_TIME_VALID=9,n.CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID=10,n.CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED=11,n.CAPICOM_CERTIFICATE_FIND_KEY_USAGE=12,n.CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE=128,n.CAPICOM_PROPID_ENHKEY_USAGE=9,n.CAPICOM_OID_OTHER=0,n.CAPICOM_OID_KEY_USAGE_EXTENSION=10,n.CAPICOM_EKU_CLIENT_AUTH=2,n.CAPICOM_EKU_SMARTCARD_LOGON=5,n.CAPICOM_EKU_OTHER=0,n.CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,n.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,n.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,n.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,n.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,n.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,n.CADESCOM_AUTHENTICATED_ATTRIBUTE_MACHINE_INFO=256,n.CADESCOM_ATTRIBUTE_OTHER=-1,n.CADESCOM_STRING_TO_UCS2LE=0,n.CADESCOM_BASE64_TO_BINARY=1,n.CADESCOM_DISPLAY_DATA_NONE=0,n.CADESCOM_DISPLAY_DATA_CONTENT=1,n.CADESCOM_DISPLAY_DATA_ATTRIBUTE=2,n.CADESCOM_ENCRYPTION_ALGORITHM_RC2=0,n.CADESCOM_ENCRYPTION_ALGORITHM_RC4=1,n.CADESCOM_ENCRYPTION_ALGORITHM_DES=2,n.CADESCOM_ENCRYPTION_ALGORITHM_3DES=3,n.CADESCOM_ENCRYPTION_ALGORITHM_AES=4,n.CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89=25,n.CADESCOM_ENCRYPTION_ALGORITHM_GOST_MAGMA=35,n.CADESCOM_ENCRYPTION_ALGORITHM_GOST_KUZNYECHIK=45,n.CADESCOM_HASH_ALGORITHM_SHA1=0,n.CADESCOM_HASH_ALGORITHM_MD2=1,n.CADESCOM_HASH_ALGORITHM_MD4=2,n.CADESCOM_HASH_ALGORITHM_MD5=3,n.CADESCOM_HASH_ALGORITHM_SHA_256=4,n.CADESCOM_HASH_ALGORITHM_SHA_384=5,n.CADESCOM_HASH_ALGORITHM_SHA_512=6,n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411=100,n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256=101,n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512=102,n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC=110,n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC=111,n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC=112,n.LOG_LEVEL_DEBUG=4,n.LOG_LEVEL_INFO=2,n.LOG_LEVEL_ERROR=1,n.CADESCOM_AllowNone=0,n.CADESCOM_AllowNoOutstandingRequest=1,n.CADESCOM_AllowUntrustedCertificate=2,n.CADESCOM_AllowUntrustedRoot=4,n.CADESCOM_SkipInstallToStore=268435456,n.CADESCOM_InstallCertChainToContainer=536870912,n.CADESCOM_UseContainerStore=1073741824,n.ContextNone=0,n.ContextUser=1,n.ContextMachine=2,n.ContextAdministratorForceMachine=3,n.ENABLE_CARRIER_TYPE_CSP=1,n.ENABLE_CARRIER_TYPE_FKC_NO_SM=2,n.ENABLE_CARRIER_TYPE_FKC_SM=4,n.ENABLE_ANY_CARRIER_TYPE=7,n.DISABLE_EVERY_CARRIER_OPERATION=0,n.ENABLE_CARRIER_OPEN_ENUM=1,n.ENABLE_CARRIER_CREATE=2,n.ENABLE_ANY_OPERATION=3,n.CADESCOM_PRODUCT_CSP=0,n.CADESCOM_PRODUCT_OCSP=1,n.CADESCOM_PRODUCT_TSP=2,n.MEDIA_TYPE_REGISTRY=1,n.MEDIA_TYPE_HDIMAGE=2,n.MEDIA_TYPE_CLOUD=4,n.MEDIA_TYPE_SCARD=8,n.XCN_CRYPT_STRING_BASE64HEADER=0,n.XCN_CRYPT_STRING_BASE64=1,n.XCN_CRYPT_STRING_BINARY=2,n.XCN_CRYPT_STRING_BASE64REQUESTHEADER=3,n.XCN_CRYPT_STRING_HEX=4,n.XCN_CRYPT_STRING_HEXASCII=5,n.XCN_CRYPT_STRING_BASE64_ANY=6,n.XCN_CRYPT_STRING_ANY=7,n.XCN_CRYPT_STRING_HEX_ANY=8,n.XCN_CRYPT_STRING_BASE64X509CRLHEADER=9,n.XCN_CRYPT_STRING_HEXADDR=10,n.XCN_CRYPT_STRING_HEXASCIIADDR=11,n.XCN_CRYPT_STRING_HEXRAW=12,n.XCN_CRYPT_STRING_BASE64URI=13,n.XCN_CRYPT_STRING_ENCODEMASK=255,n.XCN_CRYPT_STRING_CHAIN=256,n.XCN_CRYPT_STRING_TEXT=512,n.XCN_CRYPT_STRING_PERCENTESCAPE=134217728,n.XCN_CRYPT_STRING_HASHDATA=268435456,n.XCN_CRYPT_STRING_STRICT=536870912,n.XCN_CRYPT_STRING_NOCRLF=1073741824,n.XCN_CRYPT_STRING_NOCR=2147483648,n.XCN_CERT_NAME_STR_NONE=0,n.XCN_AT_NONE=0,n.XCN_AT_KEYEXCHANGE=1,n.XCN_AT_SIGNATURE=2,n.AT_KEYEXCHANGE=1,n.AT_SIGNATURE=2,n.AT_UECSYMMETRICKEY=2147483652,n.AT_SYMMETRIC=2147483653,n.CARRIER_FLAG_REMOVABLE=1,n.CARRIER_FLAG_UNIQUE=2,n.CARRIER_FLAG_PROTECTED=4,n.CARRIER_FLAG_FUNCTIONAL_CARRIER=8,n.CARRIER_FLAG_SECURE_MESSAGING=16,n.CARRIER_FLAG_ABLE_SET_KEY=32,n.CARRIER_FLAG_ABLE_VISUALISE_SIGNATURE=64,n.CARRIER_FLAG_VIRTUAL=128,n.CRYPT_MODE_CBCSTRICT=1,n.CRYPT_MODE_CNT=3,n.CRYPT_MODE_CBCRFC4357=31,n.CRYPT_MODE_CTR=32,n.CRYPT_MODE_MGM=33,n.CRYPT_MODE_GCM=34,n.CRYPT_MODE_OMAC_CTR=35,n.CRYPT_MODE_WRAP=36,n.CRYPT_MODE_WRAP_PAD=37,n.PKCS5_PADDING=1,n.RANDOM_PADDING=2,n.ZERO_PADDING=3,n.ISO10126_PADDING=4,n.ANSI_X923_PADDING=5,n.TLS_1_0_PADDING=6,n.ISO_IEC_7816_4_PADDING=7,n.CAPICOM_STORE_SAVE_AS_SERIALIZED=0,n.CAPICOM_STORE_SAVE_AS_PKCS7=1,n.CERT_TRUST_NO_ERROR=0,n.CERT_TRUST_IS_NOT_TIME_VALID=1,n.CERT_TRUST_IS_REVOKED=4,n.CERT_TRUST_IS_NOT_SIGNATURE_VALID=8,n.CERT_TRUST_IS_NOT_VALID_FOR_USAGE=16,n.CERT_TRUST_IS_UNTRUSTED_ROOT=32,n.CERT_TRUST_REVOCATION_STATUS_UNKNOWN=64,n.CERT_TRUST_IS_CYCLIC=128,n.CERT_TRUST_INVALID_EXTENSION=256,n.CERT_TRUST_INVALID_POLICY_CONSTRAINTS=512,n.CERT_TRUST_INVALID_BASIC_CONSTRAINTS=1024,n.CERT_TRUST_INVALID_NAME_CONSTRAINTS=2048,n.CERT_TRUST_HAS_NOT_SUPPORTED_NAME_CONSTRAINT=4096,n.CERT_TRUST_HAS_NOT_DEFINED_NAME_CONSTRAINT=8192,n.CERT_TRUST_HAS_NOT_PERMITTED_NAME_CONSTRAINT=16384,n.CERT_TRUST_HAS_EXCLUDED_NAME_CONSTRAINT=32768,n.CERT_TRUST_IS_OFFLINE_REVOCATION=16777216,n.CERT_TRUST_NO_ISSUANCE_CHAIN_POLICY=33554432,n.CERT_TRUST_IS_EXPLICIT_DISTRUST=67108864,n.CERT_TRUST_HAS_NOT_SUPPORTED_CRITICAL_EXT=134217728,n.CERT_TRUST_HAS_WEAK_SIGNATURE=1048576,n.XCN_CERT_NO_KEY_USAGE=0,n.XCN_CERT_DIGITAL_SIGNATURE_KEY_USAGE=128,n.XCN_CERT_NON_REPUDIATION_KEY_USAGE=64,n.XCN_CERT_KEY_ENCIPHERMENT_KEY_USAGE=32,n.XCN_CERT_DATA_ENCIPHERMENT_KEY_USAGE=16,n.XCN_CERT_KEY_AGREEMENT_KEY_USAGE=8,n.XCN_CERT_KEY_CERT_SIGN_KEY_USAGE=4,n.XCN_CERT_OFFLINE_CRL_SIGN_KEY_USAGE=2,n.XCN_CERT_CRL_SIGN_KEY_USAGE=2,n.XCN_CERT_ENCIPHER_ONLY_KEY_USAGE=1,n.XCN_CERT_DECIPHER_ONLY_KEY_USAGE=32768,n.CADESCOM_XADES_ACCEPT_ANY_ID_ATTR_NAMESPACE=1,n.CADES_USE_OCSP_AUTHORIZED_POLICY=131072,n.XCN_NCRYPT_NO_OPERATION=0,n.XCN_NCRYPT_CIPHER_OPERATION=1,n.XCN_NCRYPT_HASH_OPERATION=2,n.XCN_NCRYPT_ASYMMETRIC_ENCRYPTION_OPERATION=4,n.XCN_NCRYPT_SECRET_AGREEMENT_OPERATION=8,n.XCN_NCRYPT_SIGNATURE_OPERATION=16,n.XCN_NCRYPT_RNG_OPERATION=32,n.XCN_CRYPT_ANY_GROUP_ID=0,n.XCN_CRYPT_HASH_ALG_OID_GROUP_ID=1,n.XCN_CRYPT_ENCRYPT_ALG_OID_GROUP_ID=2,n.XCN_CRYPT_PUBKEY_ALG_OID_GROUP_ID=3,n.XCN_CRYPT_SIGN_ALG_OID_GROUP_ID=4,n.XCN_CRYPT_RDN_ATTR_OID_GROUP_ID=5,n.XCN_CRYPT_EXT_OR_ATTR_OID_GROUP_ID=6,n.XCN_CRYPT_ENHKEY_USAGE_OID_GROUP_ID=7,n.XCN_CRYPT_POLICY_OID_GROUP_ID=8,n.XCN_CRYPT_TEMPLATE_OID_GROUP_ID=9,n.XCN_CRYPT_OID_INFO_PUBKEY_ANY=0,n.XCN_CRYPT_OID_INFO_PUBKEY_SIGN_KEY_FLAG=2147483648,n.XCN_CRYPT_OID_INFO_PUBKEY_ENCRYPT_KEY_FLAG=1073741824,n.AlgorithmFlagsNone=0,n.AlgorithmFlagsWrap=1,n.current_log_level=n.LOG_LEVEL_ERROR,window.cadesplugin=n,s&&document.hidden?document.addEventListener("visibilitychange",T):(v(),b())}function g(e,t){if("undefined"!=typeof console)return e<=n.current_log_level?(e===n.LOG_LEVEL_DEBUG&&console.log("DEBUG: %s",t),e===n.LOG_LEVEL_INFO&&console.info("INFO: %s",t),void(e===n.LOG_LEVEL_ERROR&&console.error("ERROR: %s",t))):void 0}function O(){return"IE"===f.name||"MSIE"===f.name}function p(){return navigator.userAgent.match(/ipod/i)||navigator.userAgent.match(/ipad/i)||navigator.userAgent.match(/iphone/i)}function I(){return!O()&&("Edg"===f.name||("YaBrowser"===f.name?(i=!0,!0):"Opera"===f.name?(a=!0,f.version>=33):"Firefox"===f.name?(o=!0,f.version>=52):"Chrome"===f.name?f.version>=42:"Safari"===f.name?(s=!0,f.version>=12):void 0))}function h(t){if(p())return function(e,t){var r;if(A.call(e,t,(function(e,t){r=e;var n="";try{n=JSON.parse(t)}catch(e){n=t}"string"==typeof n&&(n=(n=n.replace(/\\\n/gm,"\n")).replace(/\\\r/gm,"\r"))})),r)throw r;return}("CreateObject",[t]);if(O()){if(t.match(/X509Enrollment/i))try{return document.getElementById("webClassFactory").CreateObject(t)}catch(e){try{return document.getElementById("certEnrollClassFactory").CreateObject(t)}catch(e){throw"Р”Р»СЏ СЃРѕР·РґР°РЅРёСЏ РѕР±СЊРµРєС‚РѕРІ X509Enrollment СЃР»РµРґСѓРµС‚ РЅР°СЃС‚СЂРѕРёС‚СЊ РІРµР±-СѓР·РµР» РЅР° РёСЃРїРѕР»СЊР·РѕРІР°РЅРёРµ РїСЂРѕРІРµСЂРєРё РїРѕРґР»РёРЅРЅРѕСЃС‚Рё РїРѕ РїСЂРѕС‚РѕРєРѕР»Сѓ HTTPS"}}try{return document.getElementById("webClassFactory").CreateObject(t)}catch(e){return new ActiveXObject(t)}}return e.CreateObject(t)}function M(e){var t,r=e.message;return r?e.number&&(r+=" (0x"+((t=e.number)<0&&(t=4294967295+t+1),t.toString(16).toUpperCase()+")")):r=e,r}function S(){window.cadesplugin_extension_loaded_callback&&window.cadesplugin_extension_loaded_callback(),C=!0,cpcsp_chrome_nmcades.check_chrome_plugin(N,y)}function R(){O()||o||s||window.cadesplugin_extension_loaded_callback&&window.cadesplugin_extension_loaded_callback(),window.postMessage("cadesplugin_echo_request","*"),window.addEventListener("message",(function(e){if("string"==typeof e.data&&e.data.match("cadesplugin_loaded")&&!u){if(o||s){var t=e.data.substring(e.data.indexOf("url:")+4);if(!t.match("^(moz|safari)-extension://[a-zA-Z0-9/_-]+/nmcades_plugin_api.js$"))return g(n.LOG_LEVEL_ERROR,'Bad url "'+t+'" for load CryptoPro Extension for CAdES Browser plug-in'),void y();var r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",t),r.onerror=y,r.onload=S,document.getElementsByTagName("head")[0].appendChild(r)}else cpcsp_chrome_nmcades.check_chrome_plugin(N,y);u=!0}}),!1)}function P(){var t=document.createElement("object");if(t.setAttribute("id","cadesplugin_object"),t.setAttribute("type","application/x-cades"),t.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(t),e=document.getElementById("cadesplugin_object"),O()){var r=document.createElement("object");r.setAttribute("id","certEnrollClassFactory"),r.setAttribute("classid","clsid:884e2049-217d-11da-b2a4-000e7bbb2b09"),r.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(r);var n=document.createElement("object");n.setAttribute("id","webClassFactory"),n.setAttribute("classid","clsid:B04C8637-10BD-484E-B0DA-B8A039F60024"),n.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(n)}}function N(){_=1,c?r():window.postMessage("cadesplugin_loaded","*")}function y(e){void 0!==e&&"object"!=typeof e||(e="РџР»Р°РіРёРЅ РЅРµРґРѕСЃС‚СѓРїРµРЅ"),_=1,c?t(e):window.postMessage("cadesplugin_load_error","*")}function w(){1!==_&&(o&&(C||function(){if(!window.cadesplugin_skip_extension_install){var e=document.createElement("div");e.id="cadesplugin_ovr",e.style="visibility: hidden; position: fixed; left: 0px; top: 0px; width:100%; height:100%; background-color: rgba(0,0,0,0.7)",e.innerHTML="<div id='cadesplugin_ovr_item' style='position:relative; max-width:400px; margin:100px auto; background-color:#fff; border:2px solid #000; padding:10px; text-align:center; opacity: 1; z-index: 1500'><button id='cadesplugin_close_install' style='float: right; font-size: 10px; background: transparent; border: 1; margin: -5px'>X</button><p>Р”Р»СЏ СЂР°Р±РѕС‚С‹ РљСЂРёРїС‚РѕРџСЂРѕ Р­Р¦Рџ Browser plugin РЅР° РґР°РЅРЅРѕРј СЃР°Р№С‚Рµ РЅРµРѕР±С…РѕРґРёРјРѕ СЂР°СЃС€РёСЂРµРЅРёРµ РґР»СЏ Р±СЂР°СѓР·РµСЂР°. РЈР±РµРґРёС‚РµСЃСЊ, С‡С‚Рѕ РѕРЅРѕ Сѓ Р’Р°СЃ РІРєР»СЋС‡РµРЅРѕ РёР»Рё СѓСЃС‚Р°РЅРѕРІРёС‚Рµ РµРіРѕ.<p><a href='https://www.cryptopro.ru/sites/default/files/products/cades/extensions/firefox_cryptopro_extension_latest.xpi'>РЎРєР°С‡Р°С‚СЊ СЂР°СЃС€РёСЂРµРЅРёРµ</a></p></div>",document.getElementsByTagName("Body")[0].appendChild(e),document.getElementById("cadesplugin_close_install").addEventListener("click",(function(){y("РџР»Р°РіРёРЅ РЅРµРґРѕСЃС‚СѓРїРµРЅ"),document.getElementById("cadesplugin_ovr").style.visibility="hidden"})),e.addEventListener("click",(function(){y("РџР»Р°РіРёРЅ РЅРµРґРѕСЃС‚СѓРїРµРЅ"),document.getElementById("cadesplugin_ovr").style.visibility="hidden"})),e.style.visibility="visible"}}()),_=1,c?t("РСЃС‚РµРєР»Рѕ РІСЂРµРјСЏ РѕР¶РёРґР°РЅРёСЏ Р·Р°РіСЂСѓР·РєРё РїР»Р°РіРёРЅР°"):window.postMessage("cadesplugin_load_error","*"))}function D(){try{h("CAdESCOM.About");N()}catch(t){document.getElementById("cadesplugin_object").style.display="none";var e=navigator.mimeTypes["application/x-cades"];if(e)y(e.enabledPlugin?"РџР»Р°РіРёРЅ Р·Р°РіСЂСѓР¶РµРЅ, РЅРѕ РЅРµ СЃРѕР·РґР°СЋС‚СЃСЏ РѕР±СЊРµРєС‚С‹":"РћС€РёР±РєР° РїСЂРё Р·Р°РіСЂСѓР·РєРµ РїР»Р°РіРёРЅР°");else y("РџР»Р°РіРёРЅ РЅРµРґРѕСЃС‚СѓРїРµРЅ")}}function b(){var e,t=document.createElement("div");(t.innerHTML="\x3c!--[if lt IE 9]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length)?y("Internet Explorer РІРµСЂСЃРёРё 8 Рё РЅРёР¶Рµ РЅРµ РїРѕРґРґРµСЂР¶РёРІР°РµС‚СЃСЏ"):I()?o||s?R():a||i?((e=document.createElement("script")).setAttribute("type","text/javascript"),e.setAttribute("src","chrome-extension://epebfcehmdedogndhlcacafjaacknbcm/nmcades_plugin_api.js"),e.onerror=y,e.onload=R,document.getElementsByTagName("head")[0].appendChild(e)):((e=document.createElement("script")).setAttribute("type","text/javascript"),e.setAttribute("src","chrome-extension://iifchhfnnmpdbibifmljnfjhpififfog/nmcades_plugin_api.js"),e.onerror=y,e.onload=R,document.getElementsByTagName("head")[0].appendChild(e)):c?"complete"===document.readyState?(P(),D()):window.addEventListener("load",(function(e){P(),D()}),!1):window.addEventListener("message",(function(e){"cadesplugin_echo_request"===e.data&&(P(),D())}),!1)}function v(){window.cadesplugin_load_timeout?setTimeout(w,window.cadesplugin_load_timeout):setTimeout(w,2e4)}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Certificate=void 0;var n=r(3),_=r(26),a=r(27),o=r(11),s=r(28),i=r(29),c=r(30),u=r(32),C=r(33),l=function(){function e(e,t,r,n,_,a,o){this._cadesCertificate=e,this.name=t,this.issuerName=r,this.subjectName=n,this.thumbprint=_,this.validFrom=a,this.validTo=o}return e.prototype.getOwnerInfo=function(){return c.getInfo.call(this,n.SUBJECT_TAGS_TRANSLATIONS,"SubjectName")},e.prototype.getIssuerInfo=function(){return c.getInfo.call(this,n.ISSUER_TAGS_TRANSLATIONS,"IssuerName")},e.prototype.getExtendedKeyUsage=function(){return i.getExtendedKeyUsage.call(this)},e.prototype.getDecodedExtendedKeyUsage=function(){return s.getDecodedExtendedKeyUsage.call(this)},e.prototype.getAlgorithm=function(){return a.getAlgorithm.call(this)},e.prototype.getCadesProp=function(e){return o.getCadesProp.call(this,e)},e.prototype.isValid=function(){return C.isValid.call(this)},e.prototype.exportBase64=function(){return _.exportBase64.call(this)},e.prototype.hasExtendedKeyUsage=function(e){return u.hasExtendedKeyUsage.call(this,e)},e}();t.Certificate=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XmlDsigGost3411UrlObsolete=t.XmlDsigGost3411Url=t.XmlDsigGost3410UrlObsolete=t.XmlDsigGost3410Url=t.TRUST_REVOCATION_STATUS_UNKNOWN=t.TRUST_IS_UNTRUSTED_ROOT=t.TRUST_IS_REVOKED=t.TRUST_IS_PARTIAL_CHAIN=t.TRUST_IS_NOT_VALID_FOR_USAGE=t.TRUST_IS_NOT_TIME_VALID=t.TRUST_IS_NOT_TIME_NESTED=t.TRUST_IS_NOT_SIGNATURE_VALID=t.TRUST_IS_CYCLIC=t.TRUST_CTL_IS_NOT_VALID_FOR_USAGE=t.TRUST_CTL_IS_NOT_TIME_VALID=t.TRUST_CTL_IS_NOT_SIGNATURE_VALID=t.LOG_LEVEL_INFO=t.LOG_LEVEL_ERROR=t.LOG_LEVEL_DEBUG=t.CHECK_TRUSTED_ROOT=t.CHECK_TIME_VALIDITY=t.CHECK_SIGNATURE_VALIDITY=t.CHECK_ONLINE_REVOCATION_STATUS=t.CHECK_OFFLINE_REVOCATION_STATUS=t.CHECK_NONE=t.CAPICOM_STORE_OPEN_READ_WRITE=t.CAPICOM_STORE_OPEN_READ_ONLY=t.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED=t.CAPICOM_STORE_OPEN_INCLUDE_ARCHIVED=t.CAPICOM_STORE_OPEN_EXISTING_ONLY=t.CAPICOM_SMART_CARD_USER_STORE=t.CAPICOM_PROPID_UNKNOWN=t.CAPICOM_PROPID_SUBJECT_PUBLIC_KEY_MD5_HASH=t.CAPICOM_PROPID_SUBJECT_NAME_MD5_HASH=t.CAPICOM_PROPID_SMART_CARD_DATA=t.CAPICOM_PROPID_SIGNATURE_HASH=t.CAPICOM_PROPID_SHA1_HASH=t.CAPICOM_PROPID_RENEWAL=t.CAPICOM_PROPID_PVK_FILE=t.CAPICOM_PROPID_PUBKEY_HASH_RESERVED=t.CAPICOM_PROPID_PUBKEY_ALG_PARA=t.CAPICOM_PROPID_NEXT_UPDATE_LOCATION=t.CAPICOM_PROPID_MD5_HASH=t.CAPICOM_PROPID_LAST_USER=t.CAPICOM_PROPID_LAST_RESERVED=t.CAPICOM_PROPID_KEY_SPEC=t.CAPICOM_PROPID_KEY_PROV_INFO=t.CAPICOM_PROPID_KEY_PROV_HANDLE=t.CAPICOM_PROPID_KEY_IDENTIFIER=t.CAPICOM_PROPID_KEY_CONTEXT=t.CAPICOM_PROPID_ISSUER_SERIAL_NUMBER_MD5_HASH=t.CAPICOM_PROPID_ISSUER_PUBLIC_KEY_MD5_HASH=t.CAPICOM_PROPID_IE30_RESERVED=t.CAPICOM_PROPID_HASH_PROP=t.CAPICOM_PROPID_FRIENDLY_NAME=t.CAPICOM_PROPID_FORTEZZA_DATA=t.CAPICOM_PROPID_FIRST_USER=t.CAPICOM_PROPID_FIRST_RESERVED=t.CAPICOM_PROPID_EXTENDED_ERROR_INFO=t.CAPICOM_PROPID_ENROLLMENT=t.CAPICOM_PROPID_ENHKEY_USAGE=t.CAPICOM_PROPID_EFS=t.CAPICOM_PROPID_DESCRIPTION=t.CAPICOM_PROPID_DATE_STAMP=t.CAPICOM_PROPID_CTL_USAGE=t.CAPICOM_PROPID_CROSS_CERT_DIST_POINTS=t.CAPICOM_PROPID_AUTO_ENROLL=t.CAPICOM_PROPID_ARCHIVED_KEY_HASH=t.CAPICOM_PROPID_ARCHIVED=t.CAPICOM_PROPID_ACCESS_STATE=t.CAPICOM_OID_OTHER=t.CAPICOM_OID_KEY_USAGE_EXTENSION=t.CAPICOM_MY_STORE=t.CAPICOM_MEMORY_STORE=t.CAPICOM_LOCAL_MACHINE_STORE=t.CAPICOM_EKU_SMARTCARD_LOGON=t.CAPICOM_EKU_OTHER=t.CAPICOM_EKU_CLIENT_AUTH=t.CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE=t.CAPICOM_CURRENT_USER_STORE=t.CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME=t.CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME=t.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN=t.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY=t.CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT=t.CAPICOM_CERTIFICATE_FIND_TIME_VALID=t.CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID=t.CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED=t.CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME=t.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=t.CAPICOM_CERTIFICATE_FIND_SHA1_HASH=t.CAPICOM_CERTIFICATE_FIND_ROOT_NAME=t.CAPICOM_CERTIFICATE_FIND_KEY_USAGE=t.CAPICOM_CERTIFICATE_FIND_ISSUER_NAME=t.CAPICOM_CERTIFICATE_FIND_EXTENSION=t.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY=t.CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY=t.CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY=t.CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=t.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=t.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=t.CAPICOM_ACTIVE_DIRECTORY_USER_STORE=t.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE=t.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING=t.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED=t.CADESCOM_SkipInstallToStore=t.CADESCOM_STRING_TO_UCS2LE=t.CADESCOM_PKCS7_TYPE=t.CADESCOM_LOCAL_MACHINE_STORE=t.CADESCOM_HASH_ALGORITHM_SHA_512=t.CADESCOM_HASH_ALGORITHM_SHA_384=t.CADESCOM_HASH_ALGORITHM_SHA_256=t.CADESCOM_HASH_ALGORITHM_SHA1=t.CADESCOM_HASH_ALGORITHM_MD5=t.CADESCOM_HASH_ALGORITHM_MD4=t.CADESCOM_HASH_ALGORITHM_MD2=t.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC=t.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC=t.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512=t.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC=t.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256=t.CADESCOM_HASH_ALGORITHM_CP_GOST_3411=t.CADESCOM_ENCRYPTION_ALGORITHM_RC4=t.CADESCOM_ENCRYPTION_ALGORITHM_RC2=t.CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89=t.CADESCOM_ENCRYPTION_ALGORITHM_DES=t.CADESCOM_ENCRYPTION_ALGORITHM_AES=t.CADESCOM_ENCRYPTION_ALGORITHM_3DES=t.CADESCOM_ENCODE_BINARY=t.CADESCOM_ENCODE_BASE64=t.CADESCOM_ENCODE_ANY=t.CADESCOM_DISPLAY_DATA_NONE=t.CADESCOM_DISPLAY_DATA_CONTENT=t.CADESCOM_DISPLAY_DATA_ATTRIBUTE=t.CADESCOM_CURRENT_USER_STORE=t.CADESCOM_CONTAINER_STORE=t.CADESCOM_CADES_X_LONG_TYPE_1=t.CADESCOM_CADES_T=t.CADESCOM_CADES_DEFAULT=t.CADESCOM_CADES_BES=t.CADESCOM_BASE64_TO_BINARY=t.CADESCOM_AllowUntrustedRoot=t.CADESCOM_AllowUntrustedCertificate=t.CADESCOM_AllowNone=t.CADESCOM_AllowNoOutstandingRequest=t.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=t.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=t.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=t.CADESCOM_ATTRIBUTE_OTHER=void 0,t.CADESCOM_ATTRIBUTE_OTHER=-1,t.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,t.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,t.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,t.CADESCOM_AllowNoOutstandingRequest=1,t.CADESCOM_AllowNone=0,t.CADESCOM_AllowUntrustedCertificate=2,t.CADESCOM_AllowUntrustedRoot=4,t.CADESCOM_BASE64_TO_BINARY=1,t.CADESCOM_CADES_BES=1,t.CADESCOM_CADES_DEFAULT=0,t.CADESCOM_CADES_T=5,t.CADESCOM_CADES_X_LONG_TYPE_1=93,t.CADESCOM_CONTAINER_STORE=100,t.CADESCOM_CURRENT_USER_STORE=2,t.CADESCOM_DISPLAY_DATA_ATTRIBUTE=2,t.CADESCOM_DISPLAY_DATA_CONTENT=1,t.CADESCOM_DISPLAY_DATA_NONE=0,t.CADESCOM_ENCODE_ANY=-1,t.CADESCOM_ENCODE_BASE64=0,t.CADESCOM_ENCODE_BINARY=1,t.CADESCOM_ENCRYPTION_ALGORITHM_3DES=3,t.CADESCOM_ENCRYPTION_ALGORITHM_AES=4,t.CADESCOM_ENCRYPTION_ALGORITHM_DES=2,t.CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89=25,t.CADESCOM_ENCRYPTION_ALGORITHM_RC2=0,t.CADESCOM_ENCRYPTION_ALGORITHM_RC4=1,t.CADESCOM_HASH_ALGORITHM_CP_GOST_3411=100,t.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256=101,t.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC=111,t.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512=102,t.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC=112,t.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC=110,t.CADESCOM_HASH_ALGORITHM_MD2=1,t.CADESCOM_HASH_ALGORITHM_MD4=2,t.CADESCOM_HASH_ALGORITHM_MD5=3,t.CADESCOM_HASH_ALGORITHM_SHA1=0,t.CADESCOM_HASH_ALGORITHM_SHA_256=4,t.CADESCOM_HASH_ALGORITHM_SHA_384=5,t.CADESCOM_HASH_ALGORITHM_SHA_512=6,t.CADESCOM_LOCAL_MACHINE_STORE=1,t.CADESCOM_PKCS7_TYPE=65535,t.CADESCOM_STRING_TO_UCS2LE=0,t.CADESCOM_SkipInstallToStore=268435456,t.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED=0,t.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING=1,t.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE=2,t.CAPICOM_ACTIVE_DIRECTORY_USER_STORE=3,t.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,t.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,t.CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,t.CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY=7,t.CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY=8,t.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY=6,t.CAPICOM_CERTIFICATE_FIND_EXTENSION=5,t.CAPICOM_CERTIFICATE_FIND_ISSUER_NAME=2,t.CAPICOM_CERTIFICATE_FIND_KEY_USAGE=12,t.CAPICOM_CERTIFICATE_FIND_ROOT_NAME=3,t.CAPICOM_CERTIFICATE_FIND_SHA1_HASH=0,t.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,t.CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME=4,t.CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED=11,t.CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID=10,t.CAPICOM_CERTIFICATE_FIND_TIME_VALID=9,t.CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT=0,t.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY=2,t.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN=1,t.CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME=1,t.CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME=0,t.CAPICOM_CURRENT_USER_STORE=2,t.CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE=128,t.CAPICOM_EKU_CLIENT_AUTH=2,t.CAPICOM_EKU_OTHER=0,t.CAPICOM_EKU_SMARTCARD_LOGON=5,t.CAPICOM_LOCAL_MACHINE_STORE=1,t.CAPICOM_MEMORY_STORE=0,t.CAPICOM_MY_STORE="My",t.CAPICOM_OID_KEY_USAGE_EXTENSION=10,t.CAPICOM_OID_OTHER=0,t.CAPICOM_PROPID_ACCESS_STATE=14,t.CAPICOM_PROPID_ARCHIVED=19,t.CAPICOM_PROPID_ARCHIVED_KEY_HASH=65,t.CAPICOM_PROPID_AUTO_ENROLL=21,t.CAPICOM_PROPID_CROSS_CERT_DIST_POINTS=23,t.CAPICOM_PROPID_CTL_USAGE=9,t.CAPICOM_PROPID_DATE_STAMP=27,t.CAPICOM_PROPID_DESCRIPTION=13,t.CAPICOM_PROPID_EFS=17,t.CAPICOM_PROPID_ENHKEY_USAGE=9,t.CAPICOM_PROPID_ENROLLMENT=26,t.CAPICOM_PROPID_EXTENDED_ERROR_INFO=30,t.CAPICOM_PROPID_FIRST_RESERVED=66,t.CAPICOM_PROPID_FIRST_USER=32768,t.CAPICOM_PROPID_FORTEZZA_DATA=18,t.CAPICOM_PROPID_FRIENDLY_NAME=11,t.CAPICOM_PROPID_HASH_PROP=3,t.CAPICOM_PROPID_IE30_RESERVED=7,t.CAPICOM_PROPID_ISSUER_PUBLIC_KEY_MD5_HASH=24,t.CAPICOM_PROPID_ISSUER_SERIAL_NUMBER_MD5_HASH=28,t.CAPICOM_PROPID_KEY_CONTEXT=5,t.CAPICOM_PROPID_KEY_IDENTIFIER=20,t.CAPICOM_PROPID_KEY_PROV_HANDLE=1,t.CAPICOM_PROPID_KEY_PROV_INFO=2,t.CAPICOM_PROPID_KEY_SPEC=6,t.CAPICOM_PROPID_LAST_RESERVED=32767,t.CAPICOM_PROPID_LAST_USER=65535,t.CAPICOM_PROPID_MD5_HASH=4,t.CAPICOM_PROPID_NEXT_UPDATE_LOCATION=10,t.CAPICOM_PROPID_PUBKEY_ALG_PARA=22,t.CAPICOM_PROPID_PUBKEY_HASH_RESERVED=8,t.CAPICOM_PROPID_PVK_FILE=12,t.CAPICOM_PROPID_RENEWAL=64,t.CAPICOM_PROPID_SHA1_HASH=3,t.CAPICOM_PROPID_SIGNATURE_HASH=15,t.CAPICOM_PROPID_SMART_CARD_DATA=16,t.CAPICOM_PROPID_SUBJECT_NAME_MD5_HASH=29,t.CAPICOM_PROPID_SUBJECT_PUBLIC_KEY_MD5_HASH=25,t.CAPICOM_PROPID_UNKNOWN=0,t.CAPICOM_SMART_CARD_USER_STORE=4,t.CAPICOM_STORE_OPEN_EXISTING_ONLY=128,t.CAPICOM_STORE_OPEN_INCLUDE_ARCHIVED=256,t.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED=2,t.CAPICOM_STORE_OPEN_READ_ONLY=0,t.CAPICOM_STORE_OPEN_READ_WRITE=1,t.CHECK_NONE=0,t.CHECK_OFFLINE_REVOCATION_STATUS=16,t.CHECK_ONLINE_REVOCATION_STATUS=8,t.CHECK_SIGNATURE_VALIDITY=4,t.CHECK_TIME_VALIDITY=2,t.CHECK_TRUSTED_ROOT=1,t.LOG_LEVEL_DEBUG=4,t.LOG_LEVEL_ERROR=1,t.LOG_LEVEL_INFO=2,t.TRUST_CTL_IS_NOT_SIGNATURE_VALID=262144,t.TRUST_CTL_IS_NOT_TIME_VALID=131072,t.TRUST_CTL_IS_NOT_VALID_FOR_USAGE=524288,t.TRUST_IS_CYCLIC=128,t.TRUST_IS_NOT_SIGNATURE_VALID=8,t.TRUST_IS_NOT_TIME_NESTED=2,t.TRUST_IS_NOT_TIME_VALID=1,t.TRUST_IS_NOT_VALID_FOR_USAGE=16,t.TRUST_IS_PARTIAL_CHAIN=65536,t.TRUST_IS_REVOKED=4,t.TRUST_IS_UNTRUSTED_ROOT=32,t.TRUST_REVOCATION_STATUS_UNKNOWN=64,t.XmlDsigGost3410Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102001-gostr3411",t.XmlDsigGost3410UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr34102001-gostr3411",t.XmlDsigGost3411Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr3411",t.XmlDsigGost3411UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr3411"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ISSUER_TAGS_TRANSLATIONS=void 0,t.ISSUER_TAGS_TRANSLATIONS=[{possibleNames:["UN","UnstructuredName"],translation:"Неструктурированное имя"},{possibleNames:["CN","commonName"],translation:"Удостоверяющий центр"},{possibleNames:["C","countryName"],translation:"Страна"},{possibleNames:["S","ST","stateOrProvinceName"],translation:"Регион"},{possibleNames:["STREET","streetAddress"],translation:"Адрес"},{possibleNames:["O","organizationName"],translation:"Компания"},{possibleNames:["OU","organizationalUnitName"],translation:"Тип"},{possibleNames:["T","TITLE"],translation:"Должность"},{possibleNames:["ОГРН","OGRN"],translation:"ОГРН"},{possibleNames:["ОГРНИП","OGRNIP"],translation:"ОГРНИП"},{possibleNames:["СНИЛС","SNILS"],translation:"СНИЛС"},{possibleNames:["ИНН","ИННФЛ","ИНН ФЛ","INN","ИНН физического лица"],translation:"ИНН"},{possibleNames:["ИННЮЛ","ИНН ЮЛ","INN LE","INNLE","ИНН организации"],translation:"ИНН организации"},{possibleNames:["E","email","emailAddress","pkcs9email"],translation:"Email"},{possibleNames:["L","localityName"],translation:"Город"}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OIDS_DICTIONARY=void 0,t.OIDS_DICTIONARY={"1.2.643.2.2.34.6":"Пользователь Центра Регистрации","1.2.643.2.39.1.1":'Использование в программных продуктах системы "1С:Предприятие 8"',"1.2.643.3.131.1.1":"ИНН","1.2.643.100.4":"ИНН организации","1.2.643.100.1":"ОГРН","1.2.643.100.5":"ОГРНИП","1.2.643.100.3":"СНИЛС","1.2.643.3.141.1.1":"РНС ФСС","1.2.643.3.141.1.2":"КП ФСС","1.2.643.3.2.100.65.13.11":'Использование в системе АИС "Госзакупки" Сахалинской области.',"1.2.643.3.8.100.1":'Сертификат типа "ekey-ГОСТ"',"1.2.643.3.8.100.1.1":"Общее использование в системах ИОК без права заверения финансовых документов","1.2.643.3.8.100.1.10":"Для участия в электронных торгах и подписания государственного контракта в  информационных системах Тендерного комитета города Москвы уполномоченными  лицами участников размещения государственного заказа города Москвы","1.2.643.3.8.100.1.11":"Подписание электронных документов в автоматизированной информационной  системе размещения государственного и муниципального заказа Саратовской области","1.2.643.3.8.100.1.12":"Использование в системе государственного заказа Иркутской области","1.2.643.3.8.100.1.13":"Использование в электронной торговой площадке агентства государственного  заказа Красноярского края","1.2.643.3.8.100.1.14":'Использование в электронной торговой площадке "Тендер"',"1.2.643.3.8.100.1.2":"Передача отчетности по ТКС","1.2.643.3.8.100.1.3":"Оформление взаимных обязательств, соглашений, договоров, актов и т.п.","1.2.643.3.8.100.1.4":"Внутрикорпоративный документооборот","1.2.643.3.8.100.1.5":"Использование в системах электронной торговли","1.2.643.3.8.100.1.6":'Использование в торгово-закупочной системе "ЭЛЕКТРА"',"1.2.643.3.8.100.1.7":"Использование в системе Портал государственных закупок Ставропольского края.","1.2.643.3.8.100.1.8":"Использование в Единой системе электронной торговли B2B-Center и B2G.","1.2.643.3.8.100.1.9":"Для участия в электронных торгах и подписания государственного контракта в  электронной площадке ОАО «ЕЭТП» уполномоченными лицами участников размещения  государственного или муниципального заказа","1.2.643.5.1.24.2.1.3":"Формирование документов для получения государственных  услуг в сфере ведения государственного кадастра недвижимости со стороны заявителя","1.2.643.5.1.24.2.1.3.1":"Формирование кадастровым инженером документов  для получения государственных услуг в сфере ведения государственного кадастра недвижимости со стороны  заявителя","1.2.643.5.1.24.2.2.2":"Формирование документов как результата оказания  услуги со стороны органов регистрации прав","1.2.643.5.1.24.2.2.3":"Формирование документов для получения государственных  услуг в сфере государственной регистрации прав на недвижимое имущество и сделок с ним со стороны заявителя","1.2.643.6.2.1.7.1":"Использование единоличным исполнительным органом юридического лица или уполномоченными представителями юридического лица в отношениях, связанных с возникновением, исполнением (осуществлением) и прекращением гражданских и иных прав и обязанностей в сфере негосударственного пенсионного обеспечения, негосударственного пенсионного страхования, в сфере деятельности паевых инвестиционных фондов, акционерных инвестиционных фондов, профессиональных участников рынка ценных бумаг, а также связанной с обслуживанием указанной деятельности услуг кредитных и иных организаций","1.2.643.6.2.1.7.2":"Использование физическим лицом в отношениях, связанных с возникновением, исполнением (осуществлением) и прекращением гражданских прав и обязанностей в отношении инвестиционных паев паевых инвестиционных фондов, в том числе отношения, связанные с учетом и/или фиксацией прав на инвестиционные паи паевых инвестиционных фондов","1.2.643.6.3":"Использование в электронных торговых системах и в программном обеспечении, связанным с обменом электронных сообщений","1.2.643.6.3.1.1":"Использование на электронных площадок отобранных для проведения аукционах в электронной форме","1.2.643.6.3.1.2.1":"Тип участника - Юридическое лицо","1.2.643.6.3.1.2.2":"Тип участника - Физическое лицо","1.2.643.6.3.1.2.3":"Тип участника - Индивидуальный предприниматель","1.2.643.6.3.1.3.1":"Участник размещения заказа","1.2.643.6.3.1.4.1":"Администратор организации","1.2.643.6.3.1.4.2":"Уполномоченный специалист","1.2.643.6.3.1.4.3":"Специалист с правом подписи контракта","1.2.840.113549.1.9.2":"Неструктурированное имя","1.3.6.1.4.1.24138.1.1.8.1":'Обеспечение юридической значимости в Системе "Электронная Торговая Площадка"',"1.3.6.1.4.1.29919.21":'Использование в системе Портал государственных закупок  Ростовской области "Рефери".',"1.3.6.1.5.5.7.3.2":"Проверка подлинности клиента","1.3.6.1.5.5.7.3.4":"Защищенная электронная почта","1.3.643.3.8.100.15":'Использование в ЭТП "uTender"'}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SUBJECT_TAGS_TRANSLATIONS=void 0,t.SUBJECT_TAGS_TRANSLATIONS=[{possibleNames:["UN","UnstructuredName"],translation:"Неструктурированное имя"},{possibleNames:["CN","commonName"],translation:"Владелец"},{possibleNames:["SN","surname"],translation:"Фамилия"},{possibleNames:["G","givenName","gn"],translation:"Имя Отчество"},{possibleNames:["C","countryName"],translation:"Страна"},{possibleNames:["S","ST","stateOrProvinceName"],translation:"Регион"},{possibleNames:["STREET","streetAddress"],translation:"Адрес"},{possibleNames:["O","organizationName"],translation:"Компания"},{possibleNames:["OU","organizationalUnitName"],translation:"Отдел/подразделение"},{possibleNames:["T","TITLE"],translation:"Должность"},{possibleNames:["ОГРН","OGRN"],translation:"ОГРН"},{possibleNames:["ОГРНИП","OGRNIP"],translation:"ОГРНИП"},{possibleNames:["СНИЛС","SNILS"],translation:"СНИЛС"},{possibleNames:["ИНН","ИННФЛ","ИНН ФЛ","INN","ИНН физического лица"],translation:"ИНН"},{possibleNames:["ИННЮЛ","ИНН ЮЛ","INN LE","INNLE","ИНН организации"],translation:"ИНН организации"},{possibleNames:["E","email","emailAddress","pkcs9email"],translation:"Email"},{possibleNames:["L","localityName"],translation:"Город"}]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.exportBase64=void 0;var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports.exportBase64=_afterPluginsLoaded_1._afterPluginsLoaded((function(){var cadesCertificate=this._cadesCertificate;return eval(_generateCadesFn_1._generateCadesFn((function(){var e;try{e=_generateCadesFn_1.__cadesAsyncToken__+cadesCertificate.Export(0)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при экспорте сертификата")}return e})))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAlgorithm=void 0;var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports.getAlgorithm=_afterPluginsLoaded_1._afterPluginsLoaded((function(){var cadesCertificate=this._cadesCertificate;return eval(_generateCadesFn_1._generateCadesFn((function(){var e,t={algorithm:null,oid:null};try{e=_generateCadesFn_1.__cadesAsyncToken__+cadesCertificate.PublicKey(),e=_generateCadesFn_1.__cadesAsyncToken__+e.Algorithm,t.algorithm=_generateCadesFn_1.__cadesAsyncToken__+e.FriendlyName,t.oid=_generateCadesFn_1.__cadesAsyncToken__+e.Value}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при получении алгоритма")}return t})))}))},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var _ in t=arguments[r])Object.prototype.hasOwnProperty.call(t,_)&&(e[_]=t[_]);return e}).apply(this,arguments)},_=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(_,a){function o(e){try{i(n.next(e))}catch(e){a(e)}}function s(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?_(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}i((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,_,a,o={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(_=2&a[0]?n.return:a[0]?n.throw||((_=n.return)&&_.call(n),0):n.next)&&!(_=_.call(n,a[1])).done)return _;switch(n=0,_&&(a=[2&a[0],_.value]),a[0]){case 0:case 1:_=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(_=o.trys,(_=_.length>0&&_[_.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!_||a[1]>_[0]&&a[1]<_[3])){o.label=a[1];break}if(6===a[0]&&o.label<_[1]){o.label=_[1],_=a;break}if(_&&o.label<_[2]){o.label=_[2],o.ops.push(a);break}_[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=_=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getDecodedExtendedKeyUsage=void 0;var o=r(3),s=r(0);t.getDecodedExtendedKeyUsage=s._afterPluginsLoaded((function(){return _(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.getExtendedKeyUsage()];case 1:return[2,e.sent().reduce((function(e,t){var r;return n(n({},e),((r={})[t]=o.OIDS_DICTIONARY[t]||null,r))}),{})]}}))}))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getExtendedKeyUsage=void 0;var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports.getExtendedKeyUsage=_afterPluginsLoaded_1._afterPluginsLoaded((function(){var cadesCertificate=this._cadesCertificate;return eval(_generateCadesFn_1._generateCadesFn((function(){var e,t=[];try{if(e=_generateCadesFn_1.__cadesAsyncToken__+cadesCertificate.ExtendedKeyUsage(),e=_generateCadesFn_1.__cadesAsyncToken__+e.EKUs,(e=_generateCadesFn_1.__cadesAsyncToken__+e.Count)>0)for(;e>0;){var r=void 0;r=_generateCadesFn_1.__cadesAsyncToken__+cadesCertificate.ExtendedKeyUsage(),r=_generateCadesFn_1.__cadesAsyncToken__+r.EKUs,r=_generateCadesFn_1.__cadesAsyncToken__+r.Item(e),r=_generateCadesFn_1.__cadesAsyncToken__+r.OID,t.push(r),e--}}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при получении ОИД'ов")}return t})))}))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(_,a){function o(e){try{i(n.next(e))}catch(e){a(e)}}function s(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?_(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}i((n=n.apply(e,t||[])).next())}))},_=this&&this.__generator||function(e,t){var r,n,_,a,o={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(_=2&a[0]?n.return:a[0]?n.throw||((_=n.return)&&_.call(n),0):n.next)&&!(_=_.call(n,a[1])).done)return _;switch(n=0,_&&(a=[2&a[0],_.value]),a[0]){case 0:case 1:_=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(_=o.trys,(_=_.length>0&&_[_.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!_||a[1]>_[0]&&a[1]<_[3])){o.label=a[1];break}if(6===a[0]&&o.label<_[1]){o.label=_[1],_=a;break}if(_&&o.label<_[2]){o.label=_[2],o.ops.push(a);break}_[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=_=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getInfo=void 0;var a=r(0),o=r(1),s=r(31),i=r(11);t.getInfo=a._afterPluginsLoaded((function(e,t){return n(this,void 0,void 0,(function(){var r,n;return _(this,(function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,i.getCadesProp.call(this,t)];case 1:return r=_.sent(),[3,3];case 2:throw n=_.sent(),console.error(n),new Error(o._extractMeaningfulErrorMessage(n)||"Ошибка при извлечении информации из сертификата");case 3:return[2,s._parseCertInfo(e,r)]}}))}))}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._parseCertInfo=void 0;var n=r(3);t._parseCertInfo=function(e,t){var r=t.match(/([а-яА-Яa-zA-Z0-9\s.]+)=(?:("[^"]+?")|(.+?))(?:,|$)/g);if(r)return r.map((function(t){var r,_,a,o=t.trim().match(/^([а-яА-Яa-zA-Z0-9\s.]+)=(.+?),?$/),s=null==o?void 0:o[1],i=null===(_=null===(r=null==o?void 0:o[2])||void 0===r?void 0:r.replace(/^"(.*)"/,"$1"))||void 0===_?void 0:_.replace(/"{2}/g,'"'),c=null==s?void 0:s.match(/^OID\.(.*)/),u=null==c?void 0:c[1],C=!1;if(u){var l=n.OIDS_DICTIONARY[u];l&&(s=l,C=!0)}var E=null===(a=e.find((function(e){return e.possibleNames.find((function(e){return e===s}))})))||void 0===a?void 0:a.translation;return E&&(s=E,C=!0),{description:i,title:s,isTranslated:C}}))}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(_,a){function o(e){try{i(n.next(e))}catch(e){a(e)}}function s(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?_(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}i((n=n.apply(e,t||[])).next())}))},_=this&&this.__generator||function(e,t){var r,n,_,a,o={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(_=2&a[0]?n.return:a[0]?n.throw||((_=n.return)&&_.call(n),0):n.next)&&!(_=_.call(n,a[1])).done)return _;switch(n=0,_&&(a=[2&a[0],_.value]),a[0]){case 0:case 1:_=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(_=o.trys,(_=_.length>0&&_[_.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!_||a[1]>_[0]&&a[1]<_[3])){o.label=a[1];break}if(6===a[0]&&o.label<_[1]){o.label=_[1],_=a;break}if(_&&o.label<_[2]){o.label=_[2],o.ops.push(a);break}_[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=_=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.hasExtendedKeyUsage=void 0;var a=r(0);t.hasExtendedKeyUsage=a._afterPluginsLoaded((function(e){return n(this,void 0,void 0,(function(){var t;return _(this,(function(r){switch(r.label){case 0:return[4,this.getExtendedKeyUsage()];case 1:return t=r.sent(),[2,Array.isArray(e)?e.every((function(e){return t.some((function(t){return t===e}))})):t.some((function(t){return t===e}))]}}))}))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isValid=void 0;var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports.isValid=_afterPluginsLoaded_1._afterPluginsLoaded((function(){var cadesCertificate=this._cadesCertificate;return eval(_generateCadesFn_1._generateCadesFn((function(){var e;try{e=_generateCadesFn_1.__cadesAsyncToken__+cadesCertificate.IsValid(),e=_generateCadesFn_1.__cadesAsyncToken__+e.Result}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при проверке сертификата")}return Boolean(e)})))}))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(_,a){function o(e){try{i(n.next(e))}catch(e){a(e)}}function s(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?_(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}i((n=n.apply(e,t||[])).next())}))},_=this&&this.__generator||function(e,t){var r,n,_,a,o={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(_=2&a[0]?n.return:a[0]?n.throw||((_=n.return)&&_.call(n),0):n.next)&&!(_=_.call(n,a[1])).done)return _;switch(n=0,_&&(a=[2&a[0],_.value]),a[0]){case 0:case 1:_=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(_=o.trys,(_=_.length>0&&_[_.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!_||a[1]>_[0]&&a[1]<_[3])){o.label=a[1];break}if(6===a[0]&&o.label<_[1]){o.label=_[1],_=a;break}if(_&&o.label<_[2]){o.label=_[2],o.ops.push(a);break}_[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=_=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.isValidSystemSetup=void 0;var a=r(0),o=r(1),s=r(35),i=r(36),c=r(16);t.isValidSystemSetup=a._afterPluginsLoaded((function(){return n(void 0,void 0,void 0,(function(){var e,t;return _(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,c.getSystemInfo()];case 1:return e=r.sent(),[3,3];case 2:throw t=r.sent(),console.error(t),new Error(o._extractMeaningfulErrorMessage(t)||"Настройки ЭП на данной машине не верны");case 3:if(!s._isSupportedCadesVersion(e.cadesVersion))throw new Error("Не поддерживаемая версия плагина");if(!i._isSupportedCSPVersion(e.cspVersion))throw new Error("Не поддерживаемая версия CSP");return[2,!0]}}))}))}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._isSupportedCadesVersion=void 0,t._isSupportedCadesVersion=function(e){var t=e.match(/(\d+)\.(\d+)\.(\d+)/);if(!t)return!1;var r=t[1],n=(t[2],t[3]);return!(Number(r)<2)&&!(2===Number(r)&&Number(n)<12438)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._isSupportedCSPVersion=void 0;t._isSupportedCSPVersion=function(e){var t;return e=null===(t=e.match(/\d+?\b(?:\.\d+)?/))||void 0===t?void 0:t[0],Number(e)>=4}},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(_,a){function o(e){try{i(n.next(e))}catch(e){a(e)}}function s(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?_(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}i((n=n.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var r,n,_,a,o={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(_=2&a[0]?n.return:a[0]?n.throw||((_=n.return)&&_.call(n),0):n.next)&&!(_=_.call(n,a[1])).done)return _;switch(n=0,_&&(a=[2&a[0],_.value]),a[0]){case 0:case 1:_=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(_=o.trys,(_=_.length>0&&_[_.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!_||a[1]>_[0]&&a[1]<_[3])){o.label=a[1];break}if(6===a[0]&&o.label<_[1]){o.label=_[1],_=a;break}if(_&&o.label<_[2]){o.label=_[2],o.ops.push(a);break}_[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=_=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createXMLSignature=void 0;var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(5);exports.createXMLSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,unencryptedMessage){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate;return __generator(this,(function(_a){switch(_a.label){case 0:return cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,t,r;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CPSigner"),t=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.SignedXML")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}try{_generateCadesFn_1.__cadesAsyncToken__,e.propset_Certificate(cadesCertificate),_generateCadesFn_1.__cadesAsyncToken__,e.propset_CheckCertificate(!0),_generateCadesFn_1.__cadesAsyncToken__,t.propset_Content(unencryptedMessage),_generateCadesFn_1.__cadesAsyncToken__,t.propset_SignatureType(cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED),_generateCadesFn_1.__cadesAsyncToken__,t.propset_SignatureMethod("urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256"),_generateCadesFn_1.__cadesAsyncToken__,t.propset_DigestMethod("urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при указании данных для подписи")}try{r=_generateCadesFn_1.__cadesAsyncToken__+t.Sign(e)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}return r})))]}}))}))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._getCadesUserCert=void 0;var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports._getCadesUserCert=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint){var cadesplugin=window.cadesplugin;return eval(_generateCadesFn_1._generateCadesFn((function(){var e,t,r,n;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.Store")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при попытке доступа к хранилищу")}if(!e)throw new Error("Не удалось получить доступ к хранилищу сертификатов");try{_generateCadesFn_1.__cadesAsyncToken__,e.Open(cadesplugin.CAPICOM_CURRENT_USER_STORE,cadesplugin.CAPICOM_MY_STORE,cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при открытии хранилища пользователя")}try{t=_generateCadesFn_1.__cadesAsyncToken__+e.Certificates,r=_generateCadesFn_1.__cadesAsyncToken__+t.Count}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка получения списка сертификатов из хранилища пользователя")}if(!r)throw new Error("Нет доступных сертификатов в хранилище пользователя");try{if(t=_generateCadesFn_1.__cadesAsyncToken__+t.Find(cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH,thumbprint),!(_generateCadesFn_1.__cadesAsyncToken__+t.Count))throw new Error('Сертификат с отпечатком: "'+thumbprint+'" не найден в хранилище пользователя');n=_generateCadesFn_1.__cadesAsyncToken__+t.Item(1)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при получении сертификата из хранилища пользователя")}return e.Close(),n})))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._getCadesContainerCert=void 0;var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports._getCadesContainerCert=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint){var cadesplugin=window.cadesplugin;return eval(_generateCadesFn_1._generateCadesFn((function(){var e,t,r,n;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.Store")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при попытке доступа к хранилищу")}if(!e)throw new Error("Не удалось получить доступ к хранилищу сертификатов");try{_generateCadesFn_1.__cadesAsyncToken__,e.Open(cadesplugin.CADESCOM_CONTAINER_STORE,cadesplugin.CAPICOM_MY_STORE,cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при открытии хранилища закрытого ключа")}try{t=_generateCadesFn_1.__cadesAsyncToken__+e.Certificates,r=_generateCadesFn_1.__cadesAsyncToken__+t.Count}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка получения списка сертификатов из хранилища закрытого ключа")}if(!r)throw new Error("Нет доступных сертификатов в хранилище закрытого ключа");try{if(t=_generateCadesFn_1.__cadesAsyncToken__+t.Find(cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH,thumbprint),!(_generateCadesFn_1.__cadesAsyncToken__+t.Count))throw new Error('Сертификат с отпечатком: "'+thumbprint+'" не найден в хранилище закрытого ключа');n=_generateCadesFn_1.__cadesAsyncToken__+t.Item(1)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при получении сертификата из хранилища закрытого ключа")}return e.Close(),n})))}))},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(_,a){function o(e){try{i(n.next(e))}catch(e){a(e)}}function s(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?_(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}i((n=n.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var r,n,_,a,o={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(_=2&a[0]?n.return:a[0]?n.throw||((_=n.return)&&_.call(n),0):n.next)&&!(_=_.call(n,a[1])).done)return _;switch(n=0,_&&(a=[2&a[0],_.value]),a[0]){case 0:case 1:_=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(_=o.trys,(_=_.length>0&&_[_.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!_||a[1]>_[0]&&a[1]<_[3])){o.label=a[1];break}if(6===a[0]&&o.label<_[1]){o.label=_[1],_=a;break}if(_&&o.label<_[2]){o.label=_[2],o.ops.push(a);break}_[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=_=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createDetachedSignature=void 0;var constants_1=__webpack_require__(3),_afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(5),_getDateObj_1=__webpack_require__(7);exports.createDetachedSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,messageHash){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate;return __generator(this,(function(_a){switch(_a.label){case 0:return cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,t,r,n;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CADESCOM.CPAttribute"),t=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.HashedData"),r=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CadesSignedData"),n=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CPSigner")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}var _,a,o=_getDateObj_1._getDateObj(new Date);try{_generateCadesFn_1.__cadesAsyncToken__,e.propset_Name(constants_1.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME),_generateCadesFn_1.__cadesAsyncToken__,e.propset_Value(o)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при установке времени подписи")}try{_generateCadesFn_1.__cadesAsyncToken__,n.propset_Certificate(cadesCertificate),_=_generateCadesFn_1.__cadesAsyncToken__+n.AuthenticatedAttributes2,_generateCadesFn_1.__cadesAsyncToken__,_.Add(e),_generateCadesFn_1.__cadesAsyncToken__,n.propset_Options(cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при установке сертификата")}try{_generateCadesFn_1.__cadesAsyncToken__,t.propset_Algorithm(cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256),_generateCadesFn_1.__cadesAsyncToken__,t.SetHashValue(messageHash)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при установке хеша")}try{a=_generateCadesFn_1.__cadesAsyncToken__+r.SignHash(t,n,cadesplugin.CADESCOM_PKCS7_TYPE)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}return a})))]}}))}))}))},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(_,a){function o(e){try{i(n.next(e))}catch(e){a(e)}}function s(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?_(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}i((n=n.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var r,n,_,a,o={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(_=2&a[0]?n.return:a[0]?n.throw||((_=n.return)&&_.call(n),0):n.next)&&!(_=_.call(n,a[1])).done)return _;switch(n=0,_&&(a=[2&a[0],_.value]),a[0]){case 0:case 1:_=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(_=o.trys,(_=_.length>0&&_[_.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!_||a[1]>_[0]&&a[1]<_[3])){o.label=a[1];break}if(6===a[0]&&o.label<_[1]){o.label=_[1],_=a;break}if(_&&o.label<_[2]){o.label=_[2],o.ops.push(a);break}_[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=_=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.addDetachedSignature=void 0;var constants_1=__webpack_require__(3),_afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(5),_getDateObj_1=__webpack_require__(7);exports.addDetachedSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,signedMessage,messageHash){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate;return __generator(this,(function(_a){switch(_a.label){case 0:return cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,t,r,n;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CADESCOM.CPAttribute"),t=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.HashedData"),r=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CadesSignedData"),n=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CPSigner")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}var _,a,o=_getDateObj_1._getDateObj(new Date);try{_generateCadesFn_1.__cadesAsyncToken__,e.propset_Name(constants_1.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME),_generateCadesFn_1.__cadesAsyncToken__,e.propset_Value(o)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при установке времени подписи")}try{_generateCadesFn_1.__cadesAsyncToken__,n.propset_Certificate(cadesCertificate),_=_generateCadesFn_1.__cadesAsyncToken__+n.AuthenticatedAttributes2,_generateCadesFn_1.__cadesAsyncToken__,_.Add(e),_generateCadesFn_1.__cadesAsyncToken__,n.propset_Options(cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при установке сертификата")}try{_generateCadesFn_1.__cadesAsyncToken__,t.propset_Algorithm(cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256),_generateCadesFn_1.__cadesAsyncToken__,t.SetHashValue(messageHash)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при установке хеша")}try{_generateCadesFn_1.__cadesAsyncToken__,r.VerifyHash(t,signedMessage,cadesplugin.CADESCOM_PKCS7_TYPE),a=_generateCadesFn_1.__cadesAsyncToken__+r.CoSignHash(t,n,cadesplugin.CADESCOM_PKCS7_TYPE)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}return a})))]}}))}))}))},function(module,exports,__webpack_require__){"use strict";(function(Buffer){var __awaiter=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(_,a){function o(e){try{i(n.next(e))}catch(e){a(e)}}function s(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?_(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}i((n=n.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var r,n,_,a,o={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(_=2&a[0]?n.return:a[0]?n.throw||((_=n.return)&&_.call(n),0):n.next)&&!(_=_.call(n,a[1])).done)return _;switch(n=0,_&&(a=[2&a[0],_.value]),a[0]){case 0:case 1:_=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(_=o.trys,(_=_.length>0&&_[_.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!_||a[1]>_[0]&&a[1]<_[3])){o.label=a[1];break}if(6===a[0]&&o.label<_[1]){o.label=_[1],_=a;break}if(_&&o.label<_[2]){o.label=_[2],o.ops.push(a);break}_[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=_=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createAttachedSignature=void 0;var constants_1=__webpack_require__(3),_afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(5),_getDateObj_1=__webpack_require__(7);exports.createAttachedSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,unencryptedMessage){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate;return __generator(this,(function(_a){switch(_a.label){case 0:return cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,t,r;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CADESCOM.CPAttribute"),t=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CadesSignedData"),r=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CPSigner")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}var n,_,a,o=_getDateObj_1._getDateObj(new Date);try{_generateCadesFn_1.__cadesAsyncToken__,e.propset_Name(constants_1.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME),_generateCadesFn_1.__cadesAsyncToken__,e.propset_Value(o)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при установке времени подписи")}try{n=Buffer.from(unencryptedMessage).toString("base64")}catch(e){throw console.error(e),new Error("Ошибка при преобразовании сообщения в Base64")}try{_generateCadesFn_1.__cadesAsyncToken__,r.propset_Certificate(cadesCertificate),_=_generateCadesFn_1.__cadesAsyncToken__+r.AuthenticatedAttributes2,_generateCadesFn_1.__cadesAsyncToken__,_.Add(e),_generateCadesFn_1.__cadesAsyncToken__,t.propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY),_generateCadesFn_1.__cadesAsyncToken__,t.propset_Content(n),_generateCadesFn_1.__cadesAsyncToken__,r.propset_Options(cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при указании данных для подписи")}try{a=_generateCadesFn_1.__cadesAsyncToken__+t.SignCades(r,cadesplugin.CADESCOM_PKCS7_TYPE)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}return a})))]}}))}))}))}).call(this,__webpack_require__(8).Buffer)},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),o=n[0],s=n[1],i=new a(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),u=0,C=s>0?o-4:o;for(r=0;r<C;r+=4)t=_[e.charCodeAt(r)]<<18|_[e.charCodeAt(r+1)]<<12|_[e.charCodeAt(r+2)]<<6|_[e.charCodeAt(r+3)],i[u++]=t>>16&255,i[u++]=t>>8&255,i[u++]=255&t;2===s&&(t=_[e.charCodeAt(r)]<<2|_[e.charCodeAt(r+1)]>>4,i[u++]=255&t);1===s&&(t=_[e.charCodeAt(r)]<<10|_[e.charCodeAt(r+1)]<<4|_[e.charCodeAt(r+2)]>>2,i[u++]=t>>8&255,i[u++]=255&t);return i},t.fromByteArray=function(e){for(var t,r=e.length,_=r%3,a=[],o=0,s=r-_;o<s;o+=16383)a.push(u(e,o,o+16383>s?s:o+16383));1===_?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===_&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],_=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=o.length;s<i;++s)n[s]=o[s],_[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var _,a,o=[],s=t;s<r;s+=3)_=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=_)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}_["-".charCodeAt(0)]=62,_["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,_){var a,o,s=8*_-n-1,i=(1<<s)-1,c=i>>1,u=-7,C=r?_-1:0,l=r?-1:1,E=e[t+C];for(C+=l,a=E&(1<<-u)-1,E>>=-u,u+=s;u>0;a=256*a+e[t+C],C+=l,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+e[t+C],C+=l,u-=8);if(0===a)a=1-c;else{if(a===i)return o?NaN:1/0*(E?-1:1);o+=Math.pow(2,n),a-=c}return(E?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,_,a){var o,s,i,c=8*a-_-1,u=(1<<c)-1,C=u>>1,l=23===_?Math.pow(2,-24)-Math.pow(2,-77):0,E=n?0:a-1,d=n?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(i=Math.pow(2,-o))<1&&(o--,i*=2),(t+=o+C>=1?l/i:l*Math.pow(2,1-C))*i>=2&&(o++,i/=2),o+C>=u?(s=0,o=u):o+C>=1?(s=(t*i-1)*Math.pow(2,_),o+=C):(s=t*Math.pow(2,C-1)*Math.pow(2,_),o=0));_>=8;e[r+E]=255&s,E+=d,s/=256,_-=8);for(o=o<<_|s,c+=_;c>0;e[r+E]=255&o,E+=d,o/=256,c-=8);e[r+E-d]|=128*f}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(module,exports,__webpack_require__){"use strict";(function(Buffer){var __awaiter=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(_,a){function o(e){try{i(n.next(e))}catch(e){a(e)}}function s(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?_(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}i((n=n.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var r,n,_,a,o={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(_=2&a[0]?n.return:a[0]?n.throw||((_=n.return)&&_.call(n),0):n.next)&&!(_=_.call(n,a[1])).done)return _;switch(n=0,_&&(a=[2&a[0],_.value]),a[0]){case 0:case 1:_=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(_=o.trys,(_=_.length>0&&_[_.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!_||a[1]>_[0]&&a[1]<_[3])){o.label=a[1];break}if(6===a[0]&&o.label<_[1]){o.label=_[1],_=a;break}if(_&&o.label<_[2]){o.label=_[2],o.ops.push(a);break}_[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=_=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.addAttachedSignature=void 0;var constants_1=__webpack_require__(3),_afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(5),_getDateObj_1=__webpack_require__(7);exports.addAttachedSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,signedMessage){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate;return __generator(this,(function(_a){switch(_a.label){case 0:return cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,t,r;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CADESCOM.CPAttribute"),t=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CadesSignedData"),r=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CPSigner")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}var n,_,a,o=_getDateObj_1._getDateObj(new Date);try{_generateCadesFn_1.__cadesAsyncToken__,e.propset_Name(constants_1.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME),_generateCadesFn_1.__cadesAsyncToken__,e.propset_Value(o)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при установке времени подписи")}try{n=Buffer.from(signedMessage).toString("base64")}catch(e){throw console.error(e),new Error("Ошибка при преобразовании сообщения в Base64")}try{_generateCadesFn_1.__cadesAsyncToken__,r.propset_Certificate(cadesCertificate),_=_generateCadesFn_1.__cadesAsyncToken__+r.AuthenticatedAttributes2,_generateCadesFn_1.__cadesAsyncToken__,_.Add(e),_generateCadesFn_1.__cadesAsyncToken__,t.propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY),_generateCadesFn_1.__cadesAsyncToken__,t.propset_Content(n),_generateCadesFn_1.__cadesAsyncToken__,r.propset_Options(cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при указании данных для подписи")}try{_generateCadesFn_1.__cadesAsyncToken__,t.VerifyCades(signedMessage,cadesplugin.CADESCOM_PKCS7_TYPE),a=_generateCadesFn_1.__cadesAsyncToken__+t.CoSignCades(r,cadesplugin.CADESCOM_PKCS7_TYPE)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}return a})))]}}))}))}))}).call(this,__webpack_require__(8).Buffer)},function(module,exports,__webpack_require__){"use strict";(function(Buffer){var __awaiter=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(_,a){function o(e){try{i(n.next(e))}catch(e){a(e)}}function s(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?_(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}i((n=n.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var r,n,_,a,o={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(_=2&a[0]?n.return:a[0]?n.throw||((_=n.return)&&_.call(n),0):n.next)&&!(_=_.call(n,a[1])).done)return _;switch(n=0,_&&(a=[2&a[0],_.value]),a[0]){case 0:case 1:_=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(_=o.trys,(_=_.length>0&&_[_.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!_||a[1]>_[0]&&a[1]<_[3])){o.label=a[1];break}if(6===a[0]&&o.label<_[1]){o.label=_[1],_=a;break}if(_&&o.label<_[2]){o.label=_[2],o.ops.push(a);break}_[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=_=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createHash=void 0;var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports.createHash=_afterPluginsLoaded_1._afterPluginsLoaded((function(unencryptedMessage){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin;return __generator(this,(function(_a){return cadesplugin=window.cadesplugin,[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,t,r=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.HashedData");try{e=Buffer.from(unencryptedMessage).toString("base64")}catch(e){throw console.error(e),new Error("Ошибка при преобразовании сообщения в Base64")}try{_generateCadesFn_1.__cadesAsyncToken__,r.propset_Algorithm(cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256),_generateCadesFn_1.__cadesAsyncToken__,r.propset_DataEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY),_generateCadesFn_1.__cadesAsyncToken__,r.Hash(e)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации хэширования")}try{t=_generateCadesFn_1.__cadesAsyncToken__+r.Value}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при создании хэша")}return t})))]}))}))}))}).call(this,__webpack_require__(8).Buffer)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCspVersion=void 0;var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports.getCspVersion=_afterPluginsLoaded_1._afterPluginsLoaded((function(){var cspVersion=null;return eval(_generateCadesFn_1._generateCadesFn((function(){var e;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.About"),cspVersion=_generateCadesFn_1.__cadesAsyncToken__+e.CSPVersion(),cspVersion=_generateCadesFn_1.__cadesAsyncToken__+cspVersion.toString()}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при получении версии системы")}return cspVersion})))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPluginVersion=void 0;var _afterPluginsLoaded_1=__webpack_require__(0),_generateCadesFn_1=__webpack_require__(2),_extractMeaningfulErrorMessage_1=__webpack_require__(1);exports.getPluginVersion=_afterPluginsLoaded_1._afterPluginsLoaded((function(){var cadesVersion=null;return eval(_generateCadesFn_1._generateCadesFn((function(){var e;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.About"),(cadesVersion=_generateCadesFn_1.__cadesAsyncToken__+e.PluginVersion)||(cadesVersion=_generateCadesFn_1.__cadesAsyncToken__+e.Version),cadesVersion=_generateCadesFn_1.__cadesAsyncToken__+cadesVersion.toString()}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при получении информации о плагине")}return cadesVersion})))}))}])}));
//# sourceMappingURL=crypto-pro-aft.min.js.map